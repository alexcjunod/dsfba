<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.489">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Alexander Junod, Camille Leroy, Aurelien Urfer">
<meta name="dcterms.date" content="2023-11-18">

<title>ROAD ACCIDENT ANALYSIS</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="report_files/libs/clipboard/clipboard.min.js"></script>
<script src="report_files/libs/quarto-html/quarto.js"></script>
<script src="report_files/libs/quarto-html/popper.min.js"></script>
<script src="report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="report_files/libs/quarto-html/anchor.min.js"></script>
<link href="report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="report_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="report_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="report_files/libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="report_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="report_files/libs/datatables-binding-0.30/datatables.js"></script>
<script src="report_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="report_files/libs/dt-core-1.13.4/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="report_files/libs/dt-core-1.13.4/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="report_files/libs/dt-core-1.13.4/js/jquery.dataTables.min.js"></script>
<link href="report_files/libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="report_files/libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<script src="report_files/libs/plotly-binding-4.10.3/plotly.js"></script>
<script src="report_files/libs/typedarray-0.1/typedarray.min.js"></script>
<link href="report_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="report_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="custom-styles.scss">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#overview-and-motivation" id="toc-overview-and-motivation" class="nav-link" data-scroll-target="#overview-and-motivation">Overview and Motivation</a></li>
  <li><a href="#objectives" id="toc-objectives" class="nav-link" data-scroll-target="#objectives">Objectives:</a></li>
  <li><a href="#related-work" id="toc-related-work" class="nav-link" data-scroll-target="#related-work">Related Work</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a>
  <ul class="collapse">
  <li><a href="#sources" id="toc-sources" class="nav-link" data-scroll-target="#sources">Sources</a></li>
  <li><a href="#description" id="toc-description" class="nav-link" data-scroll-target="#description">Description</a></li>
  <li><a href="#cleaning" id="toc-cleaning" class="nav-link" data-scroll-target="#cleaning">Cleaning</a></li>
  </ul></li>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis">Exploratory data analysis</a>
  <ul class="collapse">
  <li><a href="#research-question-1" id="toc-research-question-1" class="nav-link" data-scroll-target="#research-question-1">Research Question 1:</a></li>
  <li><a href="#research-question-2" id="toc-research-question-2" class="nav-link" data-scroll-target="#research-question-2">Research Question 2:</a></li>
  <li><a href="#research-question-3a" id="toc-research-question-3a" class="nav-link" data-scroll-target="#research-question-3a">Research Question 3a:</a></li>
  <li><a href="#research-question-3b" id="toc-research-question-3b" class="nav-link" data-scroll-target="#research-question-3b">Research Question 3b:</a></li>
  <li><a href="#research-question-4" id="toc-research-question-4" class="nav-link" data-scroll-target="#research-question-4">Research Question 4:</a></li>
  </ul></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis">Analysis</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">ROAD ACCIDENT ANALYSIS</h1>
<p class="subtitle lead">COMPREHENSIVE DEEP DIVE ON ROAD ACCIDENTS IN THE UK (2022)</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Alexander Junod, Camille Leroy, Aurelien Urfer </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 18, 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level1 title-with-lines h1-flex-container">
<h1 class="title-with-lines">Introduction</h1>
</section>
<section id="overview-and-motivation" class="level2">
<h2 class="anchored" data-anchor-id="overview-and-motivation">Overview and Motivation</h2>
<p>Road accidents continue to be one of the leading causes of death and hospitalizations around the world. Many factors such as weather, driver behavior and demographics contribute to a substantial number of deaths worldwide each year (1.3M on average based on research conducted by the WHO). These road accidents remain complicated and provide a great base of information in which we can put our data science toolkit to work to discover and reveal hidden information on patterns and insights into what influences road safety.</p>
<p>The motivation behind our choice of project (UK Road Accident Analysis) is deeply rooted in personal experiences of the members of our group. Witnessing the life-altering consequences of road accidents firsthand has ignited a passion for understanding the factors that contribute to such accidents on the road. This emotional connection, combined with the fact that all our team members having to complete “Cours 2 phases” classes mandatory for our licenses, which explain the impacts of road accidents, has created a deep curiosity for the subject.</p>
<p>Beyond the emotional and curiosity realm, our team recognizes that our selected data sets offer a wealth of tangible data, enabling us to explore various data science domains. This project will facilitate the enhancement of our descriptive, regression, and spatial-temporal analytically skills, empowering us to discern patterns and relationships within the data.</p>
</section>
<section id="objectives" class="level2">
<h2 class="anchored" data-anchor-id="objectives">Objectives:</h2>
<p>Our project is focused on understanding and predicting the patterns of road accidents. We are concentrating on three key aspects: utilizing spatial analysis to pinpoint areas prone to accidents, examining temporal patterns to identify peak accident times, and exploring the influence of demographics and vehicle types on these occurrences. Following the identification of key factors leading to road accidents, our next step involves developing a sophisticated predictive model. This model aims to accurately determine the severity of accidents, thereby refining our expertise in data analysis and statistical modeling. Our comprehensive approach is designed to offer deeper insights into road safety, ultimately contributing to more effective accident prevention strategies.</p>
<section id="research-questions" class="level3">
<h3 class="anchored" data-anchor-id="research-questions">Research questions</h3>
<p><u><strong><em>a) Can we identify locations (geographical (coordinate based) and spatial (urban vs rural, highway vs one way road) that are more prone to accidents?</em></strong></u></p>
<p><u><strong><em>b) What temporal trends (time of day/month/week, seasonality) can we identify in road accidents in the UK ? Can we identify the most dangerous times to be on the road?</em></strong></u></p>
<p><u><strong><em>c) What are the most prevalent demographics (age, gender) and vehicles characteristics (engine size, electric vs petrol, etc.) of road accidents?</em></strong></u></p>
<p><u><strong><em>d) Can we predict the severity of an accident using significant variables in our dataset and validate its accuracy?</em></strong></u></p>
</section>
</section>
<section id="related-work" class="level2">
<h2 class="anchored" data-anchor-id="related-work">Related Work</h2>
</section>
<section id="data" class="level1">
<h1>Data</h1>
<section id="sources" class="level2">
<h2 class="anchored" data-anchor-id="sources">Sources</h2>
<p>We have extracted our Road Safety Data from the UK Government’s data sets for 2022, focusing on road incidents. To answer our four research questions, we used four data sets, each providing essential details about accidents in the UK during 2022. All data sets contain the unique “Accident_Index,” which facilitates easy merging or searching for more detailed data in subsequent steps (e.g., cleaning and wrangling) as needed.</p>
<table class="table">
<thead>
<tr class="header">
<th>Num #</th>
<th>Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td><a href="https://www.data.gov.uk/dataset/cb7ae6f0-4be6-4935-9277-47e5ce24a11f/road-safety-data/datafile/7720d2c6-1282-47b5-b77b-90749457788b/preview" title="Link to Collision Statistics">Collision Statistics</a></td>
</tr>
<tr class="even">
<td>2</td>
<td><a href="https://www.data.gov.uk/dataset/cb7ae6f0-4be6-4935-9277-%2047e5ce24a11f/road-safety-data/datafile/8d02ed6a-7023-48e6-bdbe-c44c5f9e6214/preview" title="Link to Vehicle Statistics">Vehicle Statistics</a></td>
</tr>
<tr class="odd">
<td>3</td>
<td><a href="https://www.data.gov.uk/dataset/cb7ae6f0-4be6-4935-9277-47e5ce24a11f/road-safety-data/datafile/478bc069-38ce-406a-b297-f4d73e43a03e/preview" title="Link to Casualty Statistics">Casualty Statistics</a></td>
</tr>
<tr class="even">
<td>4</td>
<td><a href="https://www.data.gov.uk/dataset/cb7ae6f0-4be6-4935-9277-47e5ce24a11f/road-safety-data/datafile/478bc069-38ce-406a-b297-f4d73e43a03e/preview" title="Link to Legend">Legend</a></td>
</tr>
</tbody>
</table>
</section>
<section id="description" class="level2">
<h2 class="anchored" data-anchor-id="description">Description</h2>
<section id="ds-1-collision-statistics" class="level3">
<h3 class="anchored" data-anchor-id="ds-1-collision-statistics">DS 1: Collision Statistics</h3>
<section id="description-1" class="level5">
<h5 class="anchored" data-anchor-id="description-1">Description:</h5>
<p>This data set encompasses detailed information on road collisions and accidents in the UK for the year 2022. It includes a comprehensive range of features such as the location of the accident, the time it occurred, the severity of the collision, and the type of road involved. This data set is crucial as it provides a holistic view of all road collisions that occurred in the specified period.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Path to the dataset</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>accident_data_path <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"dft-road-casualty-statistics-collision-2022.csv"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Reading the dataset</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>accident_df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(accident_data_path)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a descriptive data frame for the collision dataset</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>accident_columns <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"N°"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">names</span>(accident_df)),</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Name"</span> <span class="ot">=</span> <span class="fu">names</span>(accident_df),</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Type"</span> <span class="ot">=</span> <span class="fu">sapply</span>(accident_df, <span class="cf">function</span>(column) <span class="fu">class</span>(column)[<span class="dv">1</span>]),  <span class="co"># Automatically gets the class of each column</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Example"</span> <span class="ot">=</span> <span class="fu">sapply</span>(accident_df, <span class="cf">function</span>(column) column[<span class="dv">1</span>]),  <span class="co"># Get the first entry of each column</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Explanation"</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Description for the first column"</span>,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Description for the second column"</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Continue with descriptions for all columns in your dataset.</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ensure the number of descriptions matches the number of columns.</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(accident_columns, <span class="at">rownames =</span> <span class="cn">FALSE</span>, <span class="at">caption =</span> <span class="st">"Collision Dataset Variables"</span>, <span class="at">class =</span> <span class="st">'cell-border stripe'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-710dcfdbaede1b7d6d1f" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-710dcfdbaede1b7d6d1f">{"x":{"filter":"none","vertical":false,"caption":"<caption>Collision Dataset Variables<\/caption>","data":[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36],["accident_index","accident_year","accident_reference","location_easting_osgr","location_northing_osgr","longitude","latitude","police_force","accident_severity","number_of_vehicles","number_of_casualties","date","day_of_week","time","local_authority_district","local_authority_ons_district","local_authority_highway","first_road_class","first_road_number","road_type","speed_limit","junction_detail","junction_control","second_road_class","second_road_number","pedestrian_crossing_human_control","pedestrian_crossing_physical_facilities","light_conditions","weather_conditions","road_surface_conditions","special_conditions_at_site","carriageway_hazards","urban_or_rural_area","did_police_officer_attend_scene_of_accident","trunk_road_flag","lsoa_of_accident_location"],["character","integer","character","character","character","character","character","integer","integer","integer","integer","character","integer","character","integer","character","character","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","character"],["2022010352073","2022","010352073","525199","177928","-0.198224","51.486454","1","3","2","1","05/01/2022","4","16:40","-1","E09000013","E09000013","3","3218","6","30","6","4","6","0","0","0","4","1","1","0","0","1","1","2","E01001883"],["Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column"]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>N.<\/th>\n      <th>Name<\/th>\n      <th>Type<\/th>\n      <th>Example<\/th>\n      <th>Explanation<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="key-features" class="level5">
<h5 class="anchored" data-anchor-id="key-features">Key Features:</h5>
<ul>
<li><p>Consists of one large table</p></li>
<li><p>Includes 36 different variables</p></li>
<li><p>Contains a total of +106,000 observations.</p></li>
</ul>
</section>
<section id="relevance" class="level5">
<h5 class="anchored" data-anchor-id="relevance">Relevance:</h5>
<ul>
<li>Used for research questions 1-4</li>
</ul>
</section>
</section>
<section id="ds-2-vehicle-statistics" class="level3">
<h3 class="anchored" data-anchor-id="ds-2-vehicle-statistics">DS 2: Vehicle Statistics</h3>
<section id="description-2" class="level5">
<h5 class="anchored" data-anchor-id="description-2">Description:</h5>
<p>This data set offers detailed information concerning the vehicles involved in collisions and their drivers within the UK in 2022. It encompasses a variety of data points, including but not limited to, the type of vehicle involved and the demographics of the drivers. This dataset is instrumental in understanding the specifics of vehicle-related factors in road collisions.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Path to the dataset</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>vehicle_data_path <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"dft-road-casualty-statistics-vehicle-2022.csv"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Reading the dataset</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>vehicle_df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(vehicle_data_path)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a descriptive data frame for the collision dataset</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>vehicle_columns <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"N°"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">names</span>(vehicle_df)),</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Name"</span> <span class="ot">=</span> <span class="fu">names</span>(vehicle_df),</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Type"</span> <span class="ot">=</span> <span class="fu">sapply</span>(vehicle_df, <span class="cf">function</span>(column) <span class="fu">class</span>(column)[<span class="dv">1</span>]),  <span class="co"># Automatically gets the class of each column</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Example"</span> <span class="ot">=</span> <span class="fu">sapply</span>(vehicle_df, <span class="cf">function</span>(column) column[<span class="dv">1</span>]),  <span class="co"># Get the first entry of each column</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Explanation"</span> <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Description for the first column"</span>,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Description for the second column"</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Continue with descriptions for all columns in your dataset.</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ensure the number of descriptions matches the number of columns.</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(vehicle_columns, <span class="at">rownames =</span> <span class="cn">FALSE</span>, <span class="at">caption =</span> <span class="st">"Vehicle Dataset Variables"</span>, <span class="at">class =</span> <span class="st">'cell-border stripe'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-71cf383e43129efe2071" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-71cf383e43129efe2071">{"x":{"filter":"none","vertical":false,"caption":"<caption>Vehicle Dataset Variables<\/caption>","data":[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28],["accident_index","accident_year","accident_reference","vehicle_reference","vehicle_type","towing_and_articulation","vehicle_manoeuvre","vehicle_direction_from","vehicle_direction_to","vehicle_location_restricted_lane","junction_location","skidding_and_overturning","hit_object_in_carriageway","vehicle_leaving_carriageway","hit_object_off_carriageway","first_point_of_impact","vehicle_left_hand_drive","journey_purpose_of_driver","sex_of_driver","age_of_driver","age_band_of_driver","engine_capacity_cc","propulsion_code","age_of_vehicle","generic_make_model","driver_imd_decile","driver_home_area_type","lsoa_of_driver"],["character","integer","character","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","character","integer","integer","character"],["2022010352073","2022","010352073","1","19","0","9","3","8","0","1","0","0","0","0","1","2","2","1","48","8","1461","2","4","RENAULT KANGOO","7","1","E01002687"],["Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column","Description for the first column","Description for the second column"]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>N.<\/th>\n      <th>Name<\/th>\n      <th>Type<\/th>\n      <th>Example<\/th>\n      <th>Explanation<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="key-features-1" class="level5">
<h5 class="anchored" data-anchor-id="key-features-1">Key Features:</h5>
<ul>
<li><p>Consists of one large table</p></li>
<li><p>Includes 28 distinct variables</p></li>
<li><p>Contains a total of +195,000 observations.</p></li>
</ul>
</section>
<section id="relevance-1" class="level5">
<h5 class="anchored" data-anchor-id="relevance-1">Relevance:</h5>
<ul>
<li>Used for research questions 3 &amp; 4</li>
</ul>
</section>
</section>
<section id="ds-3-casualty-statistics" class="level3">
<h3 class="anchored" data-anchor-id="ds-3-casualty-statistics">DS 3: Casualty Statistics</h3>
<section id="description-3" class="level5">
<h5 class="anchored" data-anchor-id="description-3">Description:</h5>
<p>This dataset delivers in-depth insights into casualties resulting from road accidents in the UK during 2022. It covers a broad spectrum of data, including but not limited to, the age and gender of casualties, the severity of their injuries, and the type of casualty (such as pedestrian or passenger). This dataset is essential for a detailed analysis of the human impact of road accidents.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Path to the dataset</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>casualty_data_path <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"dft-road-casualty-statistics-casualty-2022.csv"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Reading the dataset</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>casualty_df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(casualty_data_path)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an explanations vector with a description for each column</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>explanations <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"Description for the column"</span>, <span class="fu">length</span>(<span class="fu">names</span>(casualty_df)))</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a descriptive data frame for the casualty dataset</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>casualty_columns <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"N°"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">names</span>(casualty_df)),</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Name"</span> <span class="ot">=</span> <span class="fu">names</span>(casualty_df),</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Type"</span> <span class="ot">=</span> <span class="fu">sapply</span>(casualty_df, <span class="cf">function</span>(column) <span class="fu">class</span>(column)[<span class="dv">1</span>]),  <span class="co"># Automatically gets the class of each column</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Example"</span> <span class="ot">=</span> <span class="fu">sapply</span>(casualty_df, <span class="cf">function</span>(column) <span class="fu">ifelse</span>(<span class="fu">length</span>(column) <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="fu">as.character</span>(column[<span class="dv">1</span>]), <span class="cn">NA</span>)),  <span class="co"># Safely get the first entry of each column</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Explanation"</span> <span class="ot">=</span> explanations  <span class="co"># The explanation for each column</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(casualty_columns, <span class="at">rownames =</span> <span class="cn">FALSE</span>, <span class="at">caption =</span> <span class="st">"Casualty Dataset Variables"</span>, <span class="at">class =</span> <span class="st">'cell-border stripe'</span>, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-17b358211e3fae65bd0b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-17b358211e3fae65bd0b">{"x":{"filter":"none","vertical":false,"caption":"<caption>Casualty Dataset Variables<\/caption>","data":[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],["accident_index","accident_year","accident_reference","vehicle_reference","casualty_reference","casualty_class","sex_of_casualty","age_of_casualty","age_band_of_casualty","casualty_severity","pedestrian_location","pedestrian_movement","car_passenger","bus_or_coach_passenger","pedestrian_road_maintenance_worker","casualty_type","casualty_home_area_type","casualty_imd_decile","lsoa_of_casualty"],["character","integer","character","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","integer","character"],["2022010352073","2022","010352073","2","1","1","1","17","4","3","0","0","0","0","0","3","1","1","E01001364"],["Description for the column","Description for the column","Description for the column","Description for the column","Description for the column","Description for the column","Description for the column","Description for the column","Description for the column","Description for the column","Description for the column","Description for the column","Description for the column","Description for the column","Description for the column","Description for the column","Description for the column","Description for the column","Description for the column"]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>N.<\/th>\n      <th>Name<\/th>\n      <th>Type<\/th>\n      <th>Example<\/th>\n      <th>Explanation<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"columnDefs":[{"className":"dt-right","targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="key-features-2" class="level5">
<h5 class="anchored" data-anchor-id="key-features-2">Key Features:</h5>
<ul>
<li><p>Consists of one large table</p></li>
<li><p>Includes 19 distinct variables</p></li>
<li><p>Contains a total of +135,000 observations.</p></li>
</ul>
</section>
<section id="relevance-2" class="level5">
<h5 class="anchored" data-anchor-id="relevance-2">Relevance:</h5>
<ul>
<li>Used for research questions 3 &amp; 4</li>
</ul>
</section>
</section>
<section id="ds-4-legend" class="level3">
<h3 class="anchored" data-anchor-id="ds-4-legend">DS 4: Legend</h3>
<section id="description-4" class="level5">
<h5 class="anchored" data-anchor-id="description-4">Description:</h5>
<p>This dataset provides the legends to the fields present in our three accident data sets. It is a key resource for understanding and interpreting the data, especially in identifying and decoding missing values. It includes detailed information on what specific values signify a “missing value” or “other” in each column, thereby facilitating accurate data analysis.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Path to the dataset</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>legend_data_path <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"dft-road-casualty-statistics-collisions-casultys-veihcule-2022.csv"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Reading the dataset</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>legend_df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(legend_data_path)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an explanations vector with a description for each column</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>explanations <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"Description for the column"</span>, <span class="fu">length</span>(<span class="fu">names</span>(legend_df)))</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a descriptive data frame for the casualty dataset</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>legend_columns <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"N°"</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">names</span>(legend_df)),</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Name"</span> <span class="ot">=</span> <span class="fu">names</span>(legend_df),</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Type"</span> <span class="ot">=</span> <span class="fu">sapply</span>(legend_df, <span class="cf">function</span>(column) <span class="fu">class</span>(column)[<span class="dv">1</span>]),  <span class="co"># Automatically gets the class of each column</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Example"</span> <span class="ot">=</span> <span class="fu">sapply</span>(legend_df, <span class="cf">function</span>(column) <span class="fu">ifelse</span>(<span class="fu">length</span>(column) <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="fu">as.character</span>(column[<span class="dv">1</span>]), <span class="cn">NA</span>)),  <span class="co"># Safely get the first entry of each column</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Explanation"</span> <span class="ot">=</span> explanations  <span class="co"># The explanation for each column</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(legend_columns, <span class="at">rownames =</span> <span class="cn">FALSE</span>, <span class="at">caption =</span> <span class="st">"Casualty Dataset Variables"</span>, <span class="at">class =</span> <span class="st">'cell-border stripe'</span>, <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-1a68ba9246170c7571e7" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1a68ba9246170c7571e7">{"x":{"filter":"none","vertical":false,"caption":"<caption>Casualty Dataset Variables<\/caption>","data":[[1,2,3,4,5],["table","field.name","code.format","label","note"],["character","character","character","character","character"],["Accident","accident_index","","","unique value for each accident. The accident_index combines the accident_year and accident_ref_no to form a unique ID. It can be used to join to Vehicle and Casualty"],["Description for the column","Description for the column","Description for the column","Description for the column","Description for the column"]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>N.<\/th>\n      <th>Name<\/th>\n      <th>Type<\/th>\n      <th>Example<\/th>\n      <th>Explanation<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="key-features-3" class="level5">
<h5 class="anchored" data-anchor-id="key-features-3">Key Features:</h5>
<ul>
<li><p>Consists of one large table</p></li>
<li><p>Includes 5 distinct variables</p></li>
<li><p>Contains a total of +1,730 observations.</p></li>
</ul>
</section>
<section id="relevance-3" class="level5">
<h5 class="anchored" data-anchor-id="relevance-3">Relevance:</h5>
<ul>
<li><p>Allows understanding of data sets 1-3.</p></li>
<li><p>Description</p></li>
<li><p>Wrangling/cleaning</p></li>
<li><p>Spotting mistakes and missing data (could be part of EDA too)</p></li>
<li><p>Listing anomalies and outlines (could be part of EDA too)</p></li>
</ul>
</section>
</section>
</section>
<section id="cleaning" class="level2">
<h2 class="anchored" data-anchor-id="cleaning">Cleaning</h2>
<section id="i.-preliminary-data-preparation" class="level3">
<h3 class="anchored" data-anchor-id="i.-preliminary-data-preparation">I. Preliminary Data Preparation</h3>
<section id="a.-merging-data-set-1-data-set-3" class="level4">
<h4 class="anchored" data-anchor-id="a.-merging-data-set-1-data-set-3">A. Merging data set 1 &amp; data set 3&nbsp;</h4>
<p>One of the initial challenges in our data science project was that our first data set, “Collision Statistics,” only provided binary information indicating whether an accident was fatal or not, but lacked detailed counts of fatal injuries, serious injuries, and light injuries.&nbsp; To address this, we employed data wrangling methods to integrate these variables that were available in our third data set, “Casualty Statistics”, into the “Collision Statistics” data set. This enhancement involved merging three key columns: the number of fatal injuries, the number of serious injuries, and the number of light injuries. We used the “Accident Index” as a reference to ensure accurate alignment with the corresponding accidents.&nbsp;</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DiagrammeR)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>aggregated_casualties <span class="ot">&lt;-</span> casualty_df <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(accident_index, casualty_severity) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(<span class="at">key =</span> casualty_severity, <span class="at">value =</span> count, <span class="at">fill =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">num_fatal =</span> <span class="st">'1'</span>,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">num_serious =</span> <span class="st">'2'</span>,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">num_slight =</span> <span class="st">'3'</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>accident_df <span class="ot">&lt;-</span> <span class="fu">left_join</span>(accident_df, aggregated_casualties, <span class="at">by=</span><span class="st">"accident_index"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Once this integration was complete, we could begin our analysis to identify any missing values that needed to be addressed before we could answer our four research questions.&nbsp;</p>
</section>
<section id="b.-checking-missing-values" class="level4">
<h4 class="anchored" data-anchor-id="b.-checking-missing-values">B. Checking Missing values&nbsp;</h4>
<p>Our initial examination of the datasets revealed a lack of uniformity in the indicators used for missing values. Rather than a single standard marker, various characters, unique to each row, signified absence of data. This inconsistency introduced an additional challenge, necessitating the identification and correct interpretation of these distinct characters for each variable to accurately assess missing values. For example, we observed that three variables in our data set employed different characters to denote missing information.&nbsp;</p>
<p><em>Example of missing values:</em></p>
<table class="table">
<tbody>
<tr class="odd">
<td>Variable Name&nbsp;</td>
<td>Missing Value Character&nbsp;</td>
</tr>
<tr class="even">
<td>junction_detail&nbsp;</td>
<td>-1 or 99&nbsp;</td>
</tr>
<tr class="odd">
<td>junction_control&nbsp;</td>
<td>-1 or 9&nbsp;</td>
</tr>
<tr class="even">
<td>second_road_number&nbsp;</td>
<td>-1 or 0&nbsp;</td>
</tr>
</tbody>
</table>
<p>We therefore established a “missing values dictionary” that holds the name of missing values for all variables in our three data sets, namely Collision Statistics, Casualty Statistics, and Vehicle Statistics. This enabled straightforward identification of missing data in the next steps of our project.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>missing_codes_accident <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">police_force =</span> <span class="cn">NULL</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">accident_severity =</span> <span class="cn">NULL</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">number_of_vehicles =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">number_of_casualties =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">date =</span> <span class="cn">NULL</span>,</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">day_of_week =</span> <span class="cn">NULL</span>,</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">time =</span> <span class="cn">NULL</span>,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">local_authority_district =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">local_authority_ons_district =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">local_authority_highway =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">first_road_class =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">first_road_number =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">road_type =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">speed_limit =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">99</span>),</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">junction_detail =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">99</span>),</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">junction_control =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">second_road_class =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">second_road_number =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">pedestrian_crossing_human_control =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">pedestrian_crossing_physical_facilities =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">light_conditions =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">weather_conditions =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">road_surface_conditions =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">special_conditions_at_site =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">carriageway_hazards =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">urban_or_rural_area =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">3</span>),</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">did_police_officer_attend_scene_of_accident =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">3</span>),</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">trunk_road_flag =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">lsoa_of_accident_location =</span> <span class="fu">c</span>(<span class="cn">NaN</span>, <span class="cn">NA</span>, <span class="st">"NULL"</span>, <span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">accident_index =</span> <span class="fu">c</span>(<span class="cn">NaN</span>, <span class="cn">NA</span>, <span class="st">"NULL"</span>),</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">accident_index =</span> <span class="fu">c</span>(<span class="cn">NaN</span>, <span class="cn">NA</span>, <span class="st">"NULL"</span>),</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">accident_reference =</span> <span class="fu">c</span>(<span class="cn">NaN</span>, <span class="cn">NA</span>, <span class="st">"NULL"</span>),</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>  <span class="at">location_easting_osgr =</span> <span class="fu">c</span>(<span class="cn">NaN</span>, <span class="cn">NA</span>, <span class="st">"NULL"</span>),</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">location_northing_osgr =</span> <span class="fu">c</span>(<span class="cn">NaN</span>, <span class="cn">NA</span>, <span class="st">"NULL"</span>),</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">longitude =</span> <span class="fu">c</span>(<span class="cn">NaN</span>, <span class="cn">NA</span>, <span class="st">"NULL"</span>),</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>  <span class="at">latitude =</span> <span class="fu">c</span>(<span class="cn">NaN</span>, <span class="cn">NA</span>, <span class="st">"NULL"</span>),</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">accident_year =</span> <span class="fu">c</span>(<span class="cn">NaN</span>, <span class="cn">NA</span>, <span class="st">"NULL"</span>)</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>missing_codes_vehicle <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>  <span class="at">vehicle_reference =</span> <span class="cn">NULL</span>,</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>  <span class="at">vehicle_type =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">99</span>),</span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">towing_and_articulation =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">vehicle_manoeuvre =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">99</span>),</span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">vehicle_direction_from =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>  <span class="at">vehicle_direction_to =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>  <span class="at">vehicle_location_restricted_lane =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">99</span>),</span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">junction_location =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">skidding_and_overturning =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">hit_object_in_carriageway =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">99</span>),</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">vehicle_leaving_carriageway =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">hit_object_off_carriageway =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">99</span>),</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>  <span class="at">first_point_of_impact =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>  <span class="at">vehicle_left_hand_drive =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>  <span class="at">journey_purpose_of_driver =</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">5</span>, <span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>  <span class="at">sex_of_driver =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">3</span>),</span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>  <span class="at">age_of_driver =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="st">"-1"</span>),</span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>  <span class="at">age_band_of_driver =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>  <span class="at">engine_capacity_cc =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>  <span class="at">propulsion_code =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>  <span class="at">age_of_vehicle =</span> <span class="cn">NULL</span>,</span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a>  <span class="at">generic_make_model =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>  <span class="at">driver_imd_decile =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>  <span class="at">driver_home_area_type =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>  <span class="at">lsoa_of_driver =</span> <span class="cn">NULL</span></span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a>missing_codes_casualty <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>  <span class="at">casualty_reference =</span> <span class="cn">NULL</span>,</span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>  <span class="at">casualty_class =</span> <span class="cn">NULL</span>,</span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a>  <span class="at">sex_of_casualty =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a>  <span class="at">age_of_casualty =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a>  <span class="at">age_band_of_casualty =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a>  <span class="at">casualty_severity =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a>  <span class="at">pedestrian_location =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">10</span>),</span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a>  <span class="at">pedestrian_movement =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a>  <span class="at">car_passenger =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a>  <span class="at">bus_or_coach_passenger =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">9</span>),</span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a>  <span class="at">pedestrian_road_maintenance_worker =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a>  <span class="at">casualty_type =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">90</span>, <span class="dv">99</span>, <span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a>  <span class="at">casualty_imd_decile =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a>  <span class="at">casualty_home_area_type =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a>  <span class="at">lsoa_of_casualty =</span> <span class="cn">NULL</span></span>
<span id="cb6-86"><a href="#cb6-86" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="c.-creating-specific-data-sets-for-each-research-question" class="level4">
<h4 class="anchored" data-anchor-id="c.-creating-specific-data-sets-for-each-research-question">C. Creating specific data sets for each research question</h4>
<p>This discovery led us to realize that the extent of missing values across various variables was greater than initially anticipated. Considering that not every data set and variable was essential for each research question, we decided to construct smaller, question-specific data sets. This approach enabled us to strategically remove rows with missing values from these focused data sets (rather than the original data sets), based on their relevance to the specific research question. By doing so, we selectively eliminated missing data only from variables critical to a particular question, thereby minimizing overall data loss.&nbsp;</p>
<section id="research-question-1-dataset" class="level5">
<h5 class="anchored" data-anchor-id="research-question-1-dataset">Research Question 1 Dataset:</h5>
<p>For the first dataset, we’ve selected all relevant variables for spatial analysis, including location-specific factors like road type and weather conditions etc.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>df1var <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"accident_index"</span>, <span class="st">"accident_reference"</span>, <span class="st">"longitude"</span>, <span class="st">"latitude"</span>, <span class="st">"location_easting_osgr"</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"location_northing_osgr"</span>, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"lsoa_of_accident_location"</span>,<span class="st">"urban_or_rural_area"</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"road_type"</span>, <span class="st">"first_road_class"</span>, <span class="st">"second_road_class"</span>, <span class="st">"accident_severity"</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"num_fatal"</span>, <span class="st">"num_serious"</span>, <span class="st">"num_slight"</span>, <span class="st">"weather_conditions"</span>, <span class="st">"road_surface_conditions"</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"special_conditions_at_site"</span>, <span class="st">"number_of_vehicles"</span>, <span class="st">"number_of_casualties"</span>, <span class="st">"speed_limit"</span>, <span class="st">"date"</span>, <span class="st">"time"</span>, <span class="st">"special_conditions_at_site"</span>, <span class="st">"light_conditions"</span>) </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>q1_clean <span class="ot">&lt;-</span> accident_df[,df1var] </span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">head</span>(q1_clean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-4377de7018a3a5b6ffe2" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-4377de7018a3a5b6ffe2">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],["2022010352073","2022010352573","2022010352575","2022010352578","2022010352580","2022010352588"],["010352073","010352573","010352575","010352578","010352580","010352588"],["-0.198224","0.105042","0.173482","-0.139873","0.016495","0.061626"],["51.486454","51.49883","51.451924","51.614153","51.595151","51.512146"],["525199","546214","551119","528889","539773","543159"],["177928","179866","174789","192230","190404","181261"],["E01001883","E01033745","E01000378","E01001529","E01003673","E01003481"],[1,2,1,1,1,1],[6,3,6,6,3,6],[3,3,3,6,3,3],[6,6,6,0,6,6],[3,3,3,3,3,2],[0,0,0,0,0,0],[0,0,0,0,0,4],[1,1,1,2,3,1],[1,1,1,1,1,8],[1,1,1,1,1,1],[0,0,0,0,0,0],[2,2,2,2,4,1],[1,1,1,2,3,5],[30,50,30,30,50,30],["05/01/2022","01/01/2022","01/01/2022","01/01/2022","01/01/2022","01/01/2022"],["16:40","01:17","01:15","02:24","02:30","02:55"],[0,0,0,0,0,0],[4,4,4,4,4,4]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>accident_index<\/th>\n      <th>accident_reference<\/th>\n      <th>longitude<\/th>\n      <th>latitude<\/th>\n      <th>location_easting_osgr<\/th>\n      <th>location_northing_osgr<\/th>\n      <th>lsoa_of_accident_location<\/th>\n      <th>urban_or_rural_area<\/th>\n      <th>road_type<\/th>\n      <th>first_road_class<\/th>\n      <th>second_road_class<\/th>\n      <th>accident_severity<\/th>\n      <th>num_fatal<\/th>\n      <th>num_serious<\/th>\n      <th>num_slight<\/th>\n      <th>weather_conditions<\/th>\n      <th>road_surface_conditions<\/th>\n      <th>special_conditions_at_site<\/th>\n      <th>number_of_vehicles<\/th>\n      <th>number_of_casualties<\/th>\n      <th>speed_limit<\/th>\n      <th>date<\/th>\n      <th>time<\/th>\n      <th>special_conditions_at_site.1<\/th>\n      <th>light_conditions<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[8,9,10,11,12,13,14,15,16,17,18,19,20,21,24,25]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="research-question-2-dataset" class="level5">
<h5 class="anchored" data-anchor-id="research-question-2-dataset">Research Question 2 Dataset:</h5>
<p>In the second dataset, we’ve selected all relevant variables for temporal analysis such date, time, day of the week, accident severity to explore temporal patterns and trends.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>df2var <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"accident_index"</span>, <span class="st">"accident_reference"</span>, <span class="st">"date"</span>, <span class="st">"time"</span>, <span class="st">"day_of_week"</span>, <span class="st">"accident_severity"</span>, </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"number_of_vehicles"</span>, <span class="st">"number_of_casualties"</span>, <span class="st">"light_conditions"</span>, </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"num_fatal"</span>, <span class="st">"num_serious"</span>, <span class="st">"num_slight"</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"weather_conditions"</span>, <span class="st">"road_surface_conditions"</span>, <span class="st">"special_conditions_at_site"</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>q2_clean <span class="ot">&lt;-</span> accident_df[, df2var]</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">head</span>(q2_clean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-f606b3d297fbd305fc18" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f606b3d297fbd305fc18">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],["2022010352073","2022010352573","2022010352575","2022010352578","2022010352580","2022010352588"],["010352073","010352573","010352575","010352578","010352580","010352588"],["05/01/2022","01/01/2022","01/01/2022","01/01/2022","01/01/2022","01/01/2022"],["16:40","01:17","01:15","02:24","02:30","02:55"],[4,7,7,7,7,7],[3,3,3,3,3,2],[2,2,2,2,4,1],[1,1,1,2,3,5],[4,4,4,4,4,4],[0,0,0,0,0,0],[0,0,0,0,0,4],[1,1,1,2,3,1],[1,1,1,1,1,8],[1,1,1,1,1,1],[0,0,0,0,0,0]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>accident_index<\/th>\n      <th>accident_reference<\/th>\n      <th>date<\/th>\n      <th>time<\/th>\n      <th>day_of_week<\/th>\n      <th>accident_severity<\/th>\n      <th>number_of_vehicles<\/th>\n      <th>number_of_casualties<\/th>\n      <th>light_conditions<\/th>\n      <th>num_fatal<\/th>\n      <th>num_serious<\/th>\n      <th>num_slight<\/th>\n      <th>weather_conditions<\/th>\n      <th>road_surface_conditions<\/th>\n      <th>special_conditions_at_site<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[5,6,7,8,9,10,11,12,13,14,15]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="research-question-3-dataset" class="level5">
<h5 class="anchored" data-anchor-id="research-question-3-dataset">Research Question 3 Dataset:</h5>
<section id="part-a" class="level6">
<h6 class="anchored" data-anchor-id="part-a">Part A</h6>
<p>In the third data set ‘part A’, we’ve selected all relevant variables to assist in our demographic analysis, including age of casualty, sex of casualty, home area of casualty etc. &nbsp;</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>df3avar <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"accident_index"</span>, <span class="st">"accident_reference"</span>, <span class="st">"vehicle_reference"</span>, </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>             <span class="st">"casualty_reference"</span>, <span class="st">"casualty_class"</span>, <span class="st">"sex_of_casualty"</span>, <span class="st">"age_of_casualty"</span>, </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">"casualty_severity"</span>, <span class="st">"pedestrian_location"</span>, <span class="st">"pedestrian_movement"</span>, </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"car_passenger"</span>, <span class="st">"bus_or_coach_passenger"</span>, <span class="st">"pedestrian_road_maintenance_worker"</span>, </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>             <span class="st">"casualty_type"</span>, <span class="st">"casualty_home_area_type"</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>q3a_clean <span class="ot">&lt;-</span> casualty_df[,df3avar]</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">head</span>(q3a_clean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-30eec445be747e394817" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-30eec445be747e394817">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],["2022010352073","2022010352573","2022010352575","2022010352578","2022010352578","2022010352580"],["010352073","010352573","010352575","010352578","010352578","010352580"],[2,1,1,1,1,1],[1,1,1,1,2,1],[1,1,1,1,2,1],[1,2,1,1,1,2],[17,42,20,46,45,54],[3,3,3,3,3,3],[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,1,0],[0,0,0,0,0,0],[0,0,0,0,0,0],[3,9,9,9,9,9],[1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>accident_index<\/th>\n      <th>accident_reference<\/th>\n      <th>vehicle_reference<\/th>\n      <th>casualty_reference<\/th>\n      <th>casualty_class<\/th>\n      <th>sex_of_casualty<\/th>\n      <th>age_of_casualty<\/th>\n      <th>casualty_severity<\/th>\n      <th>pedestrian_location<\/th>\n      <th>pedestrian_movement<\/th>\n      <th>car_passenger<\/th>\n      <th>bus_or_coach_passenger<\/th>\n      <th>pedestrian_road_maintenance_worker<\/th>\n      <th>casualty_type<\/th>\n      <th>casualty_home_area_type<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4,5,6,7,8,9,10,11,12,13,14,15]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="part-b" class="level6">
<h6 class="anchored" data-anchor-id="part-b">Part B</h6>
<p>In the third data set ‘part B,’ we have selected all relevant variables for vehicle analysis, including whether the vehicle is left-hand drive, the generic brand, age of the vehicle etc.&nbsp;</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>df3bvar <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"accident_index"</span>, <span class="st">"accident_reference"</span>, <span class="st">"vehicle_type"</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>             <span class="st">"skidding_and_overturning"</span>, <span class="st">"vehicle_left_hand_drive"</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>             <span class="st">"engine_capacity_cc"</span>, <span class="st">"propulsion_code"</span>, <span class="st">"age_of_vehicle"</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">"generic_make_model"</span>, <span class="st">"lsoa_of_driver"</span>) </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>q3b_clean <span class="ot">&lt;-</span> vehicle_df[,df3bvar] </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">head</span>(q3b_clean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-8757d89da1c72dfcbf84" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8757d89da1c72dfcbf84">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],["2022010352073","2022010352073","2022010352573","2022010352573","2022010352575","2022010352575"],["010352073","010352073","010352573","010352573","010352575","010352575"],[19,3,9,9,9,11],[0,0,0,0,0,0],[2,1,1,1,1,1],[1461,125,-1,-1,1896,-1],[2,1,-1,-1,2,-1],[4,1,-1,-1,15,-1],["RENAULT KANGOO","HONDA FSH125","-1","-1","VOLKSWAGEN GOLF","-1"],["E01002687","E01001364","E01000338","-1","E01000390","-1"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>accident_index<\/th>\n      <th>accident_reference<\/th>\n      <th>vehicle_type<\/th>\n      <th>skidding_and_overturning<\/th>\n      <th>vehicle_left_hand_drive<\/th>\n      <th>engine_capacity_cc<\/th>\n      <th>propulsion_code<\/th>\n      <th>age_of_vehicle<\/th>\n      <th>generic_make_model<\/th>\n      <th>lsoa_of_driver<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4,5,6,7,8]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="research-question-4-dataset" class="level5">
<h5 class="anchored" data-anchor-id="research-question-4-dataset">Research Question 4 Dataset:</h5>
<p>The fourth dataset will be created after analysing datasets 1 to 3, enabling us to determine the most significant variables for our regression analysis.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df4var <span class="ot">&lt;-</span> <span class="fu">c</span>() </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>q4_clean <span class="ot">&lt;-</span> accident_df[,df1var] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>
<section id="ii.-data-cleaning-and-wrangling-for-each-research-question" class="level3">
<h3 class="anchored" data-anchor-id="ii.-data-cleaning-and-wrangling-for-each-research-question">II. Data Cleaning and Wrangling for Each Research Question&nbsp;</h3>
<section id="a.-research-question-1-data-set" class="level4">
<h4 class="anchored" data-anchor-id="a.-research-question-1-data-set"><strong>A. Research Question 1 Data set</strong>&nbsp;</h4>
<p><em>Removing missing values</em></p>
<p>We began by retrieving the missing values dictionary generated during our preliminary steps. This dictionary, encompassing all ‘characters’ representing missing values, served as our reference for identifying missing data in our new RQ1 data set.</p>
<p>Once we sourced the dictionary, we used it to search our current RQ1 data set, resulting in the identification of missing values for each variable. &nbsp;</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Counting of missing values</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>count_missing_accident <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">names</span>(missing_codes_accident), <span class="cf">function</span>(col_name) {</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>(q1_clean[[col_name]] <span class="sc">%in%</span> missing_codes_accident[[col_name]])</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>convert_to_df <span class="ot">&lt;-</span> <span class="cf">function</span>(missing_counts, dataset_name) {</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  data_frame <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dataset =</span> dataset_name, </span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Variable =</span> <span class="fu">names</span>(missing_counts),</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Missing_Values =</span> <span class="fu">as.numeric</span>(missing_counts)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data_frame)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>accident_missing_df <span class="ot">&lt;-</span> <span class="fu">convert_to_df</span>(count_missing_accident, <span class="st">"Accident"</span>)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(accident_missing_df,<span class="at">rownames =</span> <span class="cn">FALSE</span>, </span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Missing Values Accident Dataset"</span>, </span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">class =</span> <span class="st">'cell-border stripe'</span>,</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">order =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="dv">2</span>, <span class="dv">1</span>))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-fc4f7fed00986a3fc81f" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-fc4f7fed00986a3fc81f">{"x":{"filter":"none","vertical":false,"caption":"<caption>Missing Values Accident Dataset<\/caption>","data":[["Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident"],["police_force","accident_severity","number_of_vehicles","number_of_casualties","date","day_of_week","time","local_authority_district","local_authority_ons_district","local_authority_highway","first_road_class","first_road_number","road_type","speed_limit","junction_detail","junction_control","second_road_class","second_road_number","pedestrian_crossing_human_control","pedestrian_crossing_physical_facilities","light_conditions","weather_conditions","road_surface_conditions","special_conditions_at_site","carriageway_hazards","urban_or_rural_area","did_police_officer_attend_scene_of_accident","trunk_road_flag","lsoa_of_accident_location","accident_index","accident_index","accident_reference","location_easting_osgr","location_northing_osgr","longitude","latitude","accident_year"],[0,0,0,0,0,0,0,0,0,0,0,0,2755,0,0,0,89,0,0,0,1,2955,1762,2663,0,22,0,0,4148,0,0,0,22,22,22,22,0]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>Dataset<\/th>\n      <th>Variable<\/th>\n      <th>Missing_Values<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"order":[[2,1]],"columnDefs":[{"className":"dt-right","targets":2}],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>We then deleted rows containing any missing variables and verified their successful removal.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Removing rows with missing values for specific columns</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>q1_clean <span class="ot">&lt;-</span> q1_clean <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(road_type <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>road_type),</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(second_road_class <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>second_road_class),</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(light_conditions <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>light_conditions),</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(weather_conditions <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>weather_conditions),</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(road_surface_conditions <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>road_surface_conditions),</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(special_conditions_at_site <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>special_conditions_at_site),</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(urban_or_rural_area <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>urban_or_rural_area),</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(location_easting_osgr <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>location_easting_osgr),</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(location_northing_osgr <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>location_northing_osgr),</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(lsoa_of_accident_location <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>lsoa_of_accident_location),</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(longitude <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>longitude),</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span>(latitude <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>latitude)</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Verifying successful removal of missing values</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>count_missing_accident <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">names</span>(missing_codes_accident), <span class="cf">function</span>(col_name) {</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>(q1_clean[[col_name]] <span class="sc">%in%</span> missing_codes_accident[[col_name]])</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>convert_to_df <span class="ot">&lt;-</span> <span class="cf">function</span>(missing_counts, dataset_name) {</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  data_frame <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dataset =</span> dataset_name, </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Variable =</span> <span class="fu">names</span>(missing_counts),</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Missing_Values =</span> <span class="fu">as.numeric</span>(missing_counts)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data_frame)</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>accident_missing_df <span class="ot">&lt;-</span> <span class="fu">convert_to_df</span>(count_missing_accident, <span class="st">"Accident"</span>)</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(accident_missing_df,<span class="at">rownames =</span> <span class="cn">FALSE</span>, </span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Missing Values accident_df Dataset"</span>, </span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">class =</span> <span class="st">'cell-border stripe'</span>,</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><em>Duplicates</em></p>
<p>There are 0 duplicate rows in the dataset.</p>
</section>
<section id="b.-research-question-2-dataset" class="level4">
<h4 class="anchored" data-anchor-id="b.-research-question-2-dataset"><strong>B. Research Question 2 Dataset</strong>&nbsp;</h4>
<p><em>Removing missing values</em></p>
<p>To handle missing values in the data set related to RQ2, we followed the same process as for our RQ1. We sourced the dictionary containing the names of all variables’ missing values and identified them in our data set. Once identified, we deleted the rows containing missing values.&nbsp;</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Counting of missing values</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>count_missing_accident <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">names</span>(missing_codes_accident), <span class="cf">function</span>(col_name) {</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>(q2_clean[[col_name]] <span class="sc">%in%</span> missing_codes_accident[[col_name]])</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>convert_to_df <span class="ot">&lt;-</span> <span class="cf">function</span>(missing_counts, dataset_name) {</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  data_frame <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dataset =</span> dataset_name, </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Variable =</span> <span class="fu">names</span>(missing_counts),</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Missing_Values =</span> <span class="fu">as.numeric</span>(missing_counts)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data_frame)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>accident_missing_df <span class="ot">&lt;-</span> <span class="fu">convert_to_df</span>(count_missing_accident, <span class="st">"Accident"</span>)</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(accident_missing_df,<span class="at">rownames =</span> <span class="cn">FALSE</span>, </span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Missing Values Accident Dataset"</span>, </span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">class =</span> <span class="st">'cell-border stripe'</span>,</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">order =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="dv">2</span>, <span class="dv">1</span>))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-061290709f259e36054e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-061290709f259e36054e">{"x":{"filter":"none","vertical":false,"caption":"<caption>Missing Values Accident Dataset<\/caption>","data":[["Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident","Accident"],["police_force","accident_severity","number_of_vehicles","number_of_casualties","date","day_of_week","time","local_authority_district","local_authority_ons_district","local_authority_highway","first_road_class","first_road_number","road_type","speed_limit","junction_detail","junction_control","second_road_class","second_road_number","pedestrian_crossing_human_control","pedestrian_crossing_physical_facilities","light_conditions","weather_conditions","road_surface_conditions","special_conditions_at_site","carriageway_hazards","urban_or_rural_area","did_police_officer_attend_scene_of_accident","trunk_road_flag","lsoa_of_accident_location","accident_index","accident_index","accident_reference","location_easting_osgr","location_northing_osgr","longitude","latitude","accident_year"],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2955,1762,2663,0,0,0,0,0,0,0,0,0,0,0,0,0]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>Dataset<\/th>\n      <th>Variable<\/th>\n      <th>Missing_Values<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"order":[[2,1]],"columnDefs":[{"className":"dt-right","targets":2}],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Removing rows with missing values for specific columns</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>q2_clean <span class="ot">&lt;-</span> q2_clean <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(light_conditions <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>light_conditions) <span class="sc">&amp;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span>(weather_conditions <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>weather_conditions) <span class="sc">&amp;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span>(road_surface_conditions <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>road_surface_conditions) <span class="sc">&amp;</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span>(special_conditions_at_site <span class="sc">%in%</span> missing_codes_accident<span class="sc">$</span>special_conditions_at_site))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Verifying successful removal of missing values</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>count_missing_accident <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">names</span>(missing_codes_accident), <span class="cf">function</span>(col_name) {</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>(q2_clean[[col_name]] <span class="sc">%in%</span> missing_codes_accident[[col_name]])</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>convert_to_df <span class="ot">&lt;-</span> <span class="cf">function</span>(missing_counts, dataset_name) {</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  data_frame <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dataset =</span> dataset_name, </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Variable =</span> <span class="fu">names</span>(missing_counts),</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Missing_Values =</span> <span class="fu">as.numeric</span>(missing_counts)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data_frame)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>accident_missing_df <span class="ot">&lt;-</span> <span class="fu">convert_to_df</span>(count_missing_accident, <span class="st">"Accident"</span>)</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(accident_missing_df,<span class="at">rownames =</span> <span class="cn">FALSE</span>, </span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Missing Values Accident Dataset"</span>, </span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">class =</span> <span class="st">'cell-border stripe'</span>,</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">order =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="dv">2</span>, <span class="dv">1</span>))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><em>Formatting changes</em></p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>q2_clean<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(q2_clean<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%d/%m/%Y"</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>q2_clean<span class="sc">$</span>time <span class="ot">&lt;-</span> hms<span class="sc">::</span><span class="fu">as_hms</span>(<span class="fu">paste0</span>(q2_clean<span class="sc">$</span>time, <span class="st">":00"</span>))</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>q2_clean<span class="sc">$</span>hour <span class="ot">&lt;-</span> <span class="fu">as.integer</span>(<span class="fu">format</span>(<span class="fu">as.POSIXct</span>(q2_clean<span class="sc">$</span>time, <span class="at">format=</span><span class="st">'%H:%M:%S'</span>), <span class="st">'%H'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><em>Duplicates</em></p>
<p>There are 0 duplicate rows in the dataset.</p>
</section>
<section id="c.-research-question-3a-dataset" class="level4">
<h4 class="anchored" data-anchor-id="c.-research-question-3a-dataset"><strong>C. Research Question 3a Dataset</strong></h4>
<p><em>Removing missing values</em></p>
<p>To handle missing values in the data set related to RQ3, we followed the same process as for RQ1 and RQ2. We sourced the dictionary containing the names of all variables’ missing values and identified them in our data set. Once identified, we deleted the rows containing missing values.&nbsp;</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Counting of missing values</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>count_missing_casualty <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">names</span>(missing_codes_casualty), <span class="cf">function</span>(col_name) {</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>(q3a_clean[[col_name]] <span class="sc">%in%</span> missing_codes_casualty[[col_name]])</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>convert_to_df <span class="ot">&lt;-</span> <span class="cf">function</span>(missing_counts, dataset_name) {</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  data_frame <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dataset =</span> dataset_name, </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Variable =</span> <span class="fu">names</span>(missing_counts),</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Missing_Values =</span> <span class="fu">as.numeric</span>(missing_counts)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data_frame)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>casualty_missing_df <span class="ot">&lt;-</span> <span class="fu">convert_to_df</span>(count_missing_casualty, <span class="st">"Casualty"</span>)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(casualty_missing_df,<span class="at">rownames =</span> <span class="cn">FALSE</span>, </span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Missing Values Accident Dataset"</span>, </span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">class =</span> <span class="st">'cell-border stripe'</span>,</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>, <span class="at">order =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="dv">2</span>, <span class="dv">1</span>))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-84d44c58bb3321c872da" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-84d44c58bb3321c872da">{"x":{"filter":"none","vertical":false,"caption":"<caption>Missing Values Accident Dataset<\/caption>","data":[["Casualty","Casualty","Casualty","Casualty","Casualty","Casualty","Casualty","Casualty","Casualty","Casualty","Casualty","Casualty","Casualty","Casualty","Casualty"],["casualty_reference","casualty_class","sex_of_casualty","age_of_casualty","age_band_of_casualty","casualty_severity","pedestrian_location","pedestrian_movement","car_passenger","bus_or_coach_passenger","pedestrian_road_maintenance_worker","casualty_type","casualty_imd_decile","casualty_home_area_type","lsoa_of_casualty"],[0,0,1093,3129,0,0,1903,5625,788,86,260,32,0,13296,0]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>Dataset<\/th>\n      <th>Variable<\/th>\n      <th>Missing_Values<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"order":[[2,1]],"columnDefs":[{"className":"dt-right","targets":2}],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Removing rows with missing values for specific columns</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>q3a_clean <span class="ot">&lt;-</span> q3a_clean <span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(sex_of_casualty <span class="sc">%in%</span> missing_codes_casualty<span class="sc">$</span>sex_of_casualty) <span class="sc">&amp;</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span>(age_of_casualty <span class="sc">%in%</span> missing_codes_casualty<span class="sc">$</span>age_of_casualty) <span class="sc">&amp;</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span>(pedestrian_location <span class="sc">%in%</span> missing_codes_casualty<span class="sc">$</span>pedestrian_location) <span class="sc">&amp;</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span>(pedestrian_movement <span class="sc">%in%</span> missing_codes_casualty<span class="sc">$</span>pedestrian_movement) <span class="sc">&amp;</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span>(car_passenger <span class="sc">%in%</span> missing_codes_casualty<span class="sc">$</span>car_passenger) <span class="sc">&amp;</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span>(pedestrian_movement <span class="sc">%in%</span> missing_codes_casualty<span class="sc">$</span>pedestrian_movement) <span class="sc">&amp;</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span>(bus_or_coach_passenger <span class="sc">%in%</span> missing_codes_casualty<span class="sc">$</span>bus_or_coach_passenger) <span class="sc">&amp;</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span>(pedestrian_road_maintenance_worker <span class="sc">%in%</span> missing_codes_casualty<span class="sc">$</span>pedestrian_road_maintenance_worker) <span class="sc">&amp;</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span>(casualty_type <span class="sc">%in%</span> missing_codes_casualty<span class="sc">$</span>casualty_type) <span class="sc">&amp;</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span>(casualty_home_area_type <span class="sc">%in%</span> missing_codes_casualty<span class="sc">$</span>casualty_home_area_type)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verifying successful removal of missing values</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>count_missing_casualty <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">names</span>(missing_codes_casualty), <span class="cf">function</span>(col_name) {</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>(q3a_clean[[col_name]] <span class="sc">%in%</span> missing_codes_casualty[[col_name]])</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>convert_to_df <span class="ot">&lt;-</span> <span class="cf">function</span>(missing_counts, dataset_name) {</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  data_frame <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Dataset =</span> dataset_name, </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Variable =</span> <span class="fu">names</span>(missing_counts),</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Missing_Values =</span> <span class="fu">as.numeric</span>(missing_counts)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(data_frame)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>casualty_missing_df <span class="ot">&lt;-</span> <span class="fu">convert_to_df</span>(count_missing_casualty, <span class="st">"Casualty"</span>)</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(casualty_missing_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><em>Duplicates</em></p>
<p>There are 0 duplicate rows in the dataset</p>
<p><em>Feature Engineering</em></p>
<p>To enhance our data representation, we applied feature engineering, specifically ‘one-hot-decoding,’ to convert numerical variables into categorical ones. This approach eliminated the need for post-labeling graphs and improved our understanding of the data’s representation.&nbsp;It also makes it easier to comprehend data tables, etc. The following table shows how we decoded our numerical data into categorical form. The corresponding code can be viewed by clicking on the box <em>Code</em></p>
<p><img src="images/Visual%20Drawings%20DS%20Project.png" class="img-fluid quarto-figure-center" width="850"></p>
<p><em>Research Question 2</em></p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>q2_clean<span class="sc">$</span>day_name <span class="ot">&lt;-</span> <span class="fu">factor</span>(q2_clean<span class="sc">$</span>day_of_week, </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>                            <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>),</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>                            <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Monday"</span>, <span class="st">"Tuesday"</span>, <span class="st">"Wednesday"</span>, <span class="st">"Thursday"</span>, <span class="st">"Friday"</span>, <span class="st">"Saturday"</span>, <span class="st">"Sunday"</span>))</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>q2_clean<span class="sc">$</span>month_name <span class="ot">&lt;-</span> <span class="fu">format</span>(<span class="fu">as.Date</span>(q2_clean<span class="sc">$</span>date), <span class="st">"%B"</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>q2_clean<span class="sc">$</span>month_name <span class="ot">&lt;-</span> <span class="fu">factor</span>(q2_clean<span class="sc">$</span>month_name, <span class="co"># Setting it as a factor - ergo in order for our future graphs</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"January"</span>, <span class="st">"February"</span>, <span class="st">"March"</span>, <span class="st">"April"</span>, <span class="st">"May"</span>, <span class="st">"June"</span>, </span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>                                         <span class="st">"July"</span>, <span class="st">"August"</span>, <span class="st">"September"</span>, <span class="st">"October"</span>, <span class="st">"November"</span>, <span class="st">"December"</span>))</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>q2_clean<span class="sc">$</span>accident_severity_chr <span class="ot">&lt;-</span> <span class="fu">factor</span>(q2_clean<span class="sc">$</span>accident_severity, </span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Fatal"</span>, <span class="st">"Serious"</span>, <span class="st">"Slight"</span>))</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>q2_clean <span class="ot">&lt;-</span> q2_clean <span class="sc">%&gt;%</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_ranges =</span> <span class="fu">case_when</span>(</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>      hour <span class="sc">&gt;=</span> <span class="dv">0</span> <span class="sc">&amp;</span> hour <span class="sc">&lt;</span> <span class="dv">6</span>  <span class="sc">~</span> <span class="st">"0-6 AM"</span>,</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>      hour <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> hour <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"6-12 AM"</span>,</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>      hour <span class="sc">&gt;=</span> <span class="dv">12</span> <span class="sc">&amp;</span> hour <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"12-6 PM"</span>,</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>      hour <span class="sc">&gt;=</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"6-12 PM"</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">time_ranges =</span> <span class="fu">factor</span>(time_ranges, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"0-6 AM"</span>, <span class="st">"6-12 AM"</span>, <span class="st">"12-6 PM"</span>, <span class="st">"6-12 PM"</span>))</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><em>Research Question 3a</em></p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>q3a_clean<span class="sc">$</span>casualty_class_chr <span class="ot">&lt;-</span> <span class="fu">factor</span>(q3a_clean<span class="sc">$</span>casualty_reference,</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Driver/Rider"</span>, <span class="st">"Passenger"</span>, <span class="st">"Pedestrian"</span>))</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>q3a_clean<span class="sc">$</span>casualty_severity_chr <span class="ot">&lt;-</span> <span class="fu">factor</span>(q3a_clean<span class="sc">$</span>casualty_severity,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>),</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Light"</span>, <span class="st">"Serious"</span>, <span class="st">"Fatal"</span>))</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>q3a_clean<span class="sc">$</span>sex_chr <span class="ot">&lt;-</span> <span class="fu">factor</span>(q3a_clean<span class="sc">$</span>sex_of_casualty,</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>                            <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>                            <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>))</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>q3a_clean<span class="sc">$</span>casualty_type_chr <span class="ot">&lt;-</span> <span class="fu">factor</span>(q3a_clean<span class="sc">$</span>casualty_type,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>                            <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>,<span class="dv">11</span>,<span class="dv">16</span>,<span class="dv">17</span>,<span class="dv">18</span>,<span class="dv">19</span>,<span class="dv">20</span>,<span class="dv">21</span>,<span class="dv">22</span>,</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>                                       <span class="dv">23</span>,<span class="dv">90</span>,<span class="dv">97</span>,<span class="dv">98</span>,<span class="dv">99</span>),</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>                            <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Pedestrian"</span>, <span class="st">"Cyclist"</span>, <span class="st">"Moto [50cc]"</span>, <span class="st">"Moto [125cc]"</span>,</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Moto [125/500cc]"</span>, <span class="st">"Moto [+500cc]"</span>, <span class="st">"Taxi/Private Car"</span>,</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Car"</span>, <span class="st">"Minibus"</span>, <span class="st">"Bus/Coach"</span>, <span class="st">"Horse Rider"</span>, </span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Agri"</span>, <span class="st">"Tram"</span>, <span class="st">"Van/Goods [&lt;3.5ton]"</span>,</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Van/Goods [3.5/7.5tons]"</span>, <span class="st">"Van/Goods [&gt;7.5ton]"</span>,</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Mobility Scooter"</span>, <span class="st">"Electric Moto"</span>, <span class="st">"Other Vehicle"</span>,</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"Moto [unk CC]"</span>, <span class="st">"Van/Goods [unk ton]"</span>, <span class="st">"Unknown"</span>))</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>q3a_clean<span class="sc">$</span>car_passenger_chr <span class="ot">&lt;-</span> <span class="fu">factor</span>(q3a_clean<span class="sc">$</span>car_passenger,</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>                            <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">9</span>, <span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>                            <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Not car passenger"</span>, <span class="st">"Front seat passenger"</span>, <span class="st">"Rear seat passenger"</span>,</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>                                       <span class="st">"unknown"</span>, <span class="st">"missing"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>&nbsp; &nbsp;### D. Saving these data sets</p>
<p>We finally saved our newly created datasets back to our data project folder, enabling access in subsequent markdown analysis files.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>q1_data_path <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"q1_clean.rds"</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>q2_data_path <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"q2_clean.rds"</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>q3a_data_path <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"q3a_clean.rds"</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>q3b_data_path <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>, <span class="st">"q3b_clean.rds"</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(q1_clean, q1_data_path)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(q2_clean, q2_data_path)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(q3a_clean, q3a_data_path)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(q3b_clean, q3b_data_path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>
</section>
<section id="exploratory-data-analysis" class="level1">
<h1>Exploratory data analysis</h1>
<ul>
<li>Mapping out the underlying structure</li>
<li>Identifying the most important variables</li>
<li>Univariate visualizations</li>
<li>Multivariate visualizations</li>
<li>Summary tables</li>
</ul>
<p>Importing our data sets</p>
<p>For the sake of uniformity and comprehensibility, it was important to keep the structure in relation to our research questions, to explore the data consistently. We therefore decided to explore the data according to our questions and the variables that were linked to them.</p>
<section id="research-question-1" class="level2">
<h2 class="anchored" data-anchor-id="research-question-1">Research Question 1:</h2>
<section id="mapping-points-of" class="level3">
<h3 class="anchored" data-anchor-id="mapping-points-of">Mapping Points of</h3>
<p>Firstly, we wanted to map all accidents in the UK. To do this, we took the GPS coordinates of all accidents and plotted them on a map. This didn’t necessarily convince us, as we could see that the sheer number of accidents meant that we couldn’t really see what was going on.</p>
<div class="cell" data-layout-align="center" data-hash="report_cache/html/unnamed-chunk-24_c2670c57179836d61df3f3dcf85bacde">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform data into an sf object</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>accident_data_sf <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(q1_clean, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"longitude"</span>, <span class="st">"latitude"</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Get UK shapefile</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>uk <span class="ot">&lt;-</span> <span class="fu">ne_countries</span>(<span class="at">scale =</span> <span class="st">"medium"</span>, <span class="at">country =</span> <span class="st">"united kingdom"</span>, <span class="at">returnclass =</span> <span class="st">"sf"</span>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the geographic boundaries for zooming in on the UK</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>xlims <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">10</span>, <span class="dv">2</span>)  <span class="co"># Longitude limits</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>ylims <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">49</span>, <span class="dv">57</span>)  <span class="co"># Latitude limits</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Basic mapping with ggplot2</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>base_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> uk, <span class="at">fill =</span> <span class="st">"#BBBBBB"</span>, <span class="at">color =</span> <span class="st">"#4C4E4D"</span>) <span class="sc">+</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="at">data =</span> accident_data_sf, <span class="at">color =</span> <span class="st">"#D05353"</span>, <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">xlim =</span> xlims, <span class="at">ylim =</span> ylims, <span class="at">expand =</span> <span class="cn">FALSE</span>)  <span class="co"># Set coordinate limits</span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Enhance map with ggspatial: Add north arrow and scale bar</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>enhanced_plot <span class="ot">&lt;-</span> base_plot <span class="sc">+</span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotation_scale</span>(<span class="at">location =</span> <span class="st">"bl"</span>, <span class="at">width_hint =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotation_north_arrow</span>(<span class="at">location =</span> <span class="st">"br"</span>, <span class="at">which_north =</span> <span class="st">"true"</span>, <span class="at">pad_x =</span> <span class="fu">unit</span>(<span class="fl">0.1</span>, <span class="st">"in"</span>), <span class="at">pad_y =</span> <span class="fu">unit</span>(<span class="fl">0.1</span>, <span class="st">"in"</span>))</span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Resize and save the plot</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"UK_Accidents_Map.png"</span>, <span class="at">plot =</span> enhanced_plot, <span class="at">width =</span> <span class="dv">10</span>, <span class="at">height =</span> <span class="dv">8</span>)</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the enhanced plot</span></span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(enhanced_plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid quarto-figure-center" style="width:100.0%"></p>
</div>
</div>
</section>
<section id="table-of-accidents-per-region" class="level3">
<h3 class="anchored" data-anchor-id="table-of-accidents-per-region">Table of Accidents per Region</h3>
<p>The above graph, does not show much, as there is a large amount of points. Our dataset also provides us with the unique LSOA’s in which the accident occurred. A LSOA or Lower Layer Super Output Area is a small, statistically consistent, geographically bounded area created by the UK Office for National Statistics, Despite LSOA’s providing an both a high resolution of data and statistical consistency, due to the sheer value of LSOA’s within our dataset (26392), we will convert this data into less granular. We will be using UTLA or Upper Tier Local Authorties, which are larger than LSOA’s and are good for broad regional analysis and planning. IF we deem that the analysis is not granular enough, we can move back to LSOA’s.</p>
<p>We will need to use a new data set in order to aggregate our data at a UTLA level. We will be looking up the corresponding UTLA for each of our LSOA’s.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>utla_data_path <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"data"</span>,<span class="st">"Lower_Layer_Super_Output_Area_(2011)_to_Upper_Tier_Local_Authorities_(2017)_Lookup_in_England_and_Wales.csv"</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>utla <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(utla_data_path)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Left join q1_clean with the UTLA dataset based on LSOA codes</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>q1_clean <span class="ot">&lt;-</span> <span class="fu">left_join</span>(</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  q1_clean,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  utla <span class="sc">%&gt;%</span> <span class="fu">select</span>(LSOA11CD, LSOA11NM, UTLA17CD, UTLA17NM),</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"lsoa_of_accident_location"</span> <span class="ot">=</span> <span class="st">"LSOA11CD"</span>)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list of LSOA codes from your dataset</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>your_dataset_lsoa <span class="ot">&lt;-</span> q1_clean<span class="sc">$</span>lsoa_of_accident_location</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list of LSOA codes from the UTLA dataset</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>utla_lsoa <span class="ot">&lt;-</span> utla<span class="sc">$</span>LSOA11CD</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Find LSOA codes that were not merged</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>unmerged_lsoa <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(your_dataset_lsoa, utla_lsoa)</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if there are any unmerged LSOA codes</span></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">length</span>(unmerged_lsoa) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"LSOA codes that didn't get merged:"</span>)</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(unmerged_lsoa, <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"All LSOA codes from your dataset got merged."</span>)</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>accidents_per_utla <span class="ot">&lt;-</span> q1_clean <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(UTLA17NM) <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Accidents"</span> <span class="ot">=</span> <span class="fu">n</span>(),</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Slight"</span> <span class="ot">=</span> <span class="fu">sum</span>(num_slight),</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Serious"</span> <span class="ot">=</span> <span class="fu">sum</span>(num_serious),</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Fatal"</span> <span class="ot">=</span> <span class="fu">sum</span>(num_fatal)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"UTLA Name"</span> <span class="ot">=</span> UTLA17NM)  <span class="co"># Rename the first column</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the table using knitr's kable function</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(accidents_per_utla, <span class="at">caption =</span> <span class="st">"Num of Accidents per Accident Type and UTLA"</span>, </span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>          <span class="at">class =</span> <span class="st">'cell-border stripe'</span>,</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">5</span>, <span class="at">order =</span> <span class="fu">list</span>(<span class="fu">list</span>(<span class="dv">2</span>, <span class="dv">1</span>))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-febc7192da8f33388661" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-febc7192da8f33388661">{"x":{"filter":"none","vertical":false,"caption":"<caption>Num of Accidents per Accident Type and UTLA<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113"],["Bath and North East Somerset","Bedford","Blackburn with Darwen","Blackpool","Blaenau Gwent","Bournemouth","Bracknell Forest","Bridgend","Brighton and Hove","Bristol, City of","Buckinghamshire","Caerphilly","Cambridgeshire","Cardiff","Carmarthenshire","Central Bedfordshire","Ceredigion","Cheshire East","Cheshire West and Chester","Conwy","Cornwall","County Durham","Cumbria","Darlington","Denbighshire","Derby","Derbyshire","Devon","Dorset","East Riding of Yorkshire","East Sussex","Essex","Flintshire","Gloucestershire","Greater Manchester","Gwynedd","Halton","Hampshire","Hartlepool","Herefordshire, County of","Hertfordshire","Inner London","Isle of Anglesey","Isle of Wight","Isles of Scilly","Kent","Kingston upon Hull, City of","Lancashire","Leicester","Leicestershire","Lincolnshire","Luton","Medway","Merseyside","Merthyr Tydfil","Middlesbrough","Milton Keynes","Monmouthshire","Neath Port Talbot","Newport","Norfolk","North East Lincolnshire","North Lincolnshire","North Somerset","North Yorkshire","Northamptonshire","Northumberland","Nottingham","Nottinghamshire","Outer London","Oxfordshire","Pembrokeshire","Peterborough","Plymouth","Poole","Portsmouth","Powys","Reading","Redcar and Cleveland","Rhondda Cynon Taf","Rutland","Shropshire","Slough","Somerset","South Gloucestershire","South Yorkshire","Southampton","Southend-on-Sea","Staffordshire","Stockton-on-Tees","Stoke-on-Trent","Suffolk","Surrey","Swansea","Swindon","Telford and Wrekin","Thurrock","Torbay","Torfaen","Tyne and Wear","Vale of Glamorgan","Warrington","Warwickshire","West Berkshire","West Midlands","West Sussex","West Yorkshire","Wiltshire","Windsor and Maidenhead","Wokingham","Worcestershire","Wrexham","York"],[141,306,267,314,59,373,120,100,608,818,686,151,1022,272,290,491,134,596,531,144,994,501,816,112,127,447,1224,1177,794,586,1197,2323,153,904,2462,163,152,2274,125,297,1668,9646,51,273,2,3349,646,2066,413,635,1549,398,506,2184,43,209,343,101,82,187,1464,324,345,213,852,1218,436,608,1140,10291,953,228,348,365,281,449,313,310,135,194,24,416,232,653,335,1991,484,250,335,205,81,1118,2737,141,379,192,260,165,83,1336,103,306,857,209,4835,1786,4176,890,194,183,753,151,291],[156,317,300,308,59,377,120,123,517,831,709,152,1065,321,305,561,141,632,572,136,1099,471,773,89,130,474,1294,1297,839,622,1200,2352,134,799,2355,143,151,2263,131,276,2001,8990,43,249,2,3800,624,1981,408,574,1688,490,558,2245,46,213,393,92,86,180,1516,315,352,241,916,1185,440,551,1060,10752,878,265,394,387,272,400,331,301,138,228,21,418,245,789,398,1869,453,250,317,237,68,1222,2836,137,425,218,266,177,76,1394,113,320,871,215,5510,1874,4098,1011,200,216,758,142,313],[30,74,88,113,21,59,22,15,186,85,148,40,315,45,78,125,45,130,94,63,274,190,284,41,43,74,309,331,209,176,374,691,48,370,742,67,30,595,40,99,358,1846,15,70,0,644,130,815,95,225,386,66,101,422,4,62,62,27,17,60,422,83,98,30,233,343,161,150,332,1742,279,67,72,75,46,120,115,46,47,33,7,140,39,127,45,770,98,59,137,55,31,288,717,29,42,53,72,45,21,274,18,38,243,41,933,516,1296,170,37,24,204,44,35],[3,3,1,5,0,0,4,2,4,8,9,7,37,4,4,15,3,8,4,5,26,16,31,4,6,2,30,17,12,17,20,42,9,32,64,9,2,37,3,8,24,40,2,8,0,51,4,34,4,22,45,3,6,16,4,1,6,4,4,4,41,1,8,5,28,34,7,1,27,61,24,5,14,2,2,9,13,4,4,4,6,15,3,20,4,35,3,3,36,3,6,22,31,3,6,5,1,3,0,16,0,5,22,3,51,23,66,16,2,1,20,3,3]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>UTLA Name<\/th>\n      <th>Total Accidents<\/th>\n      <th>Total Slight<\/th>\n      <th>Total Serious<\/th>\n      <th>Total Fatal<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"order":[[2,1]],"columnDefs":[{"className":"dt-right","targets":[2,3,4,5]},{"orderable":false,"targets":0}],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="interactive-map-of-regions-and-accidents" class="level3">
<h3 class="anchored" data-anchor-id="interactive-map-of-regions-and-accidents">Interactive Map of Regions and Accidents</h3>
<p><em>Geolink to JSON: https://data-communities.opendata.arcgis.com/datasets/f9205b260a7b4e999455b06d41a67e39/explore</em></p>
<p>To visualize this, we decided to implement an interactive map of the UK, showing the number and severity of accidents by region.</p>
<div class="cell" data-layout-align="center">
<pre><code>#&gt; Reading layer `9c4d8af7-9a32-46d0-b500-65ff6958c91f2020330-1-1x1o5ud.bypu' from data source `/Users/alexanderjunod/Library/CloudStorage/OneDrive-UniversitédeLausanne/Bureau/UNIL/Data Science in Business Analytics/Project/dsfba_project/data/Local_Authority_(Upper_Tier)_IMD_2019_(OSGB1936).geojson' 
#&gt;   using driver `GeoJSON'
#&gt; Simple feature collection with 151 features and 8 fields
#&gt; Geometry type: MULTIPOLYGON
#&gt; Dimension:     XY
#&gt; Bounding box:  xmin: -6.42 ymin: 49.9 xmax: 1.76 ymax: 55.8
#&gt; Geodetic CRS:  WGS 84</code></pre>
</div>
</section>
</section>
<section id="research-question-2" class="level2">
<h2 class="anchored" data-anchor-id="research-question-2">Research Question 2:</h2>
<p>This is the most challenging part of data exploration. Many factors need to be considered, including the day of the week, the month of the year and the time of day.</p>
<section id="day-of-week" class="level5">
<h5 class="anchored" data-anchor-id="day-of-week">Day of Week</h5>
<p>Firstly, for each day of the week, we have drawn up a table showing the number of accidents per day. We can observe a median number of xxx accidents per day.</p>
</section>
<section id="table-w-count-of-accident-by-d.o.w-w-median" class="level3">
<h3 class="anchored" data-anchor-id="table-w-count-of-accident-by-d.o.w-w-median">Table w/ count of accident by D.O.W (w median)</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize accidents by day of the week</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>accidents_summary <span class="ot">&lt;-</span> q2_clean <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(day_name) <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Number_of_Accidents =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate average accidents per day</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>average_accidents_day <span class="ot">&lt;-</span> <span class="fu">mean</span>(accidents_summary<span class="sc">$</span>Number_of_Accidents)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(accidents_summary, </span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">rownames =</span> <span class="cn">FALSE</span>, </span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>          <span class="at">caption =</span> <span class="st">"Count of Accidents by D.O.W"</span>, </span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>          <span class="at">class =</span> <span class="st">'cell-border stripe'</span>,</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">paging =</span> <span class="cn">FALSE</span>,     <span class="co"># Disable pagination</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">searching =</span> <span class="cn">FALSE</span>,  <span class="co"># Disable search box</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">ordering =</span> <span class="cn">FALSE</span>,   <span class="co"># Disable column sorting</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">info =</span> <span class="cn">FALSE</span>        <span class="co"># Hide the 'Showing 1 to n of n entries' info</span></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>          ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-99738c4a0d6fe35066e2" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-99738c4a0d6fe35066e2">{"x":{"filter":"none","vertical":false,"caption":"<caption>Count of Accidents by D.O.W<\/caption>","data":[["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],[11468,13389,14257,14985,15495,17042,14346]],"container":"<table class=\"cell-border stripe\">\n  <thead>\n    <tr>\n      <th>day_name<\/th>\n      <th>Number_of_Accidents<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"paging":false,"searching":false,"ordering":false,"info":false,"columnDefs":[{"className":"dt-right","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Then, by day, we dissociated the severity of accidents to see if one day of the week or another would be more prone to fatal accidents.</p>
</section>
<section id="graph-accidents-by-d.o.w-per-severity" class="level3">
<h3 class="anchored" data-anchor-id="graph-accidents-by-d.o.w-per-severity">Graph: Accidents by D.O.W per Severity</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q2_clean) <span class="sc">+</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> day_name, <span class="at">fill =</span> accident_severity_chr) <span class="sc">+</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> average_accidents_day, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"#FE4A49"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="at">Fatal =</span> <span class="st">"#FFEB00"</span>,</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Serious =</span> <span class="st">"#BBBBBB"</span>,</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Slight =</span> <span class="st">"#4C4E4D"</span>),</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Severity of Accident"</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Day of Week"</span>,</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Accidents"</span>,</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Accidents by DOW per Severity"</span>,</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"Red dashed line represents the average:"</span>, <span class="fu">round</span>(average_accidents_day, <span class="dv">2</span>))</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>, <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#f1f3f2"</span>, <span class="at">colour =</span> <span class="st">"#f1f3f2"</span>))</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.</span></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; i Please use `linewidth` instead.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid quarto-figure-center" style="width:100.0%"></p>
</div>
</div>
<p>We can see that, although Saturday is a day with more accidents, there doesn’t seem to be any difference in severity depending on the day of the week. To get a better idea of this, we’ve removed the minor accidents that make up a large proportion of daily accidents. In addition, we have adjusted this to a proportion to avoid biases linked to days like Saturday (which have more accidents).</p>
</section>
<section id="graph-proportion-of-accidents-by-d.o.w-per-severity" class="level3">
<h3 class="anchored" data-anchor-id="graph-proportion-of-accidents-by-d.o.w-per-severity">Graph: Proportion of Accidents by D.O.W per Severity</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(accidents_by_day_severity, <span class="fu">aes</span>(<span class="at">x =</span> day_name, <span class="at">y =</span> proportion, <span class="at">fill =</span> accident_severity_chr)) <span class="sc">+</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">percent</span>(proportion, <span class="at">accuracy =</span> <span class="fl">0.1</span>)), </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_fill</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>), </span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="at">Fatal =</span> <span class="st">"#FFEB00"</span>,</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Serious =</span> <span class="st">"#BBBBBB"</span>,</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Slight =</span> <span class="st">"#4C4E4D"</span>),</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Severity of Accident"</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Day of Week"</span>,</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Proportion of Accidents"</span>,</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Proportion of Accidents by DOW per Severity"</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>, <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#f1f3f2"</span>, <span class="at">colour =</span> <span class="st">"#f1f3f2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid quarto-figure-center" style="width:100.0%"></p>
</div>
</div>
<p>We note that Monday is the day with the most serious accidents (xxx%), but that the percentage of serious accidents during the day varies very little.</p>
<section id="month-of-year" class="level6">
<h6 class="anchored" data-anchor-id="month-of-year">Month of year</h6>
<p>Secondly, for each month of the year, we have drawn up a table showing the number of accidents per month. We can observe a median number of xxx accidents per month and an average of xxx accidents per month.</p>
</section>
</section>
<section id="table-w-count-of-accident-by-m.o.y-w-median" class="level3">
<h3 class="anchored" data-anchor-id="table-w-count-of-accident-by-m.o.y-w-median">Table w/ count of accident by M.O.Y (w median)</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the number of accidents per month</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>accidents_by_month <span class="ot">&lt;-</span> q2_clean <span class="sc">%&gt;%</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month_name) <span class="sc">%&gt;%</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Number_of_Accidents =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate average accidents per month</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>average_accidents_month <span class="ot">&lt;-</span> <span class="fu">mean</span>(accidents_by_month<span class="sc">$</span>Number_of_Accidents)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a table using knitr</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(accidents_by_month, </span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Month of the Year"</span>, <span class="st">"Number of Accidents"</span>), </span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">caption =</span> <span class="fu">paste</span>(<span class="st">"Accidents by Month of the Year. Average Accidents per Month:"</span>, <span class="fu">round</span>(average_accidents_month, <span class="dv">2</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Accidents by Month of the Year. Average Accidents per Month: 8415.17</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Month of the Year</th>
<th style="text-align: right;">Number of Accidents</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">January</td>
<td style="text-align: right;">8551</td>
</tr>
<tr class="even">
<td style="text-align: left;">February</td>
<td style="text-align: right;">7300</td>
</tr>
<tr class="odd">
<td style="text-align: left;">March</td>
<td style="text-align: right;">8367</td>
</tr>
<tr class="even">
<td style="text-align: left;">April</td>
<td style="text-align: right;">7578</td>
</tr>
<tr class="odd">
<td style="text-align: left;">May</td>
<td style="text-align: right;">8749</td>
</tr>
<tr class="even">
<td style="text-align: left;">June</td>
<td style="text-align: right;">8916</td>
</tr>
<tr class="odd">
<td style="text-align: left;">July</td>
<td style="text-align: right;">8794</td>
</tr>
<tr class="even">
<td style="text-align: left;">August</td>
<td style="text-align: right;">8637</td>
</tr>
<tr class="odd">
<td style="text-align: left;">September</td>
<td style="text-align: right;">8404</td>
</tr>
<tr class="even">
<td style="text-align: left;">October</td>
<td style="text-align: right;">8877</td>
</tr>
<tr class="odd">
<td style="text-align: left;">November</td>
<td style="text-align: right;">9061</td>
</tr>
<tr class="even">
<td style="text-align: left;">December</td>
<td style="text-align: right;">7748</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>We don’t see much difference in terms of the number of accidents per month. This shows that road accidents remain stable throughout the year.</p>
<p>Then, by month, we dissociated the severity of accidents to see if one month of the year or another would be more prone to fatal accidents.</p>
</section>
<section id="graph-of-accidents-by-m.o.y-per-severity-waverage" class="level3">
<h3 class="anchored" data-anchor-id="graph-of-accidents-by-m.o.y-per-severity-waverage">Graph of Accidents by M.O.Y per Severity (w/average)</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>average_accidents_month <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">table</span>(q2_clean<span class="sc">$</span>month_name))</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q2_clean) <span class="sc">+</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> month_name, <span class="at">fill =</span> accident_severity_chr) <span class="sc">+</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> average_accidents_month, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"#FE4A49"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="at">Fatal =</span> <span class="st">"#FFEB00"</span>,</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">Serious =</span> <span class="st">"#BBBBBB"</span>,</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">Slight =</span> <span class="st">"#4C4E4D"</span>),</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Severity of Accident"</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Month of Year"</span>,</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Accidents"</span>,</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Accidents by Month per Severity"</span>,</span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"Red dashed line represents the average:"</span>, <span class="fu">round</span>(average_accidents_month, <span class="dv">2</span>))</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>) <span class="co"># Adjust the angle and size of x-axis labels</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">3750</span>, <span class="dv">10000</span>)) <span class="co"># Replace YMIN and YMAX with the desired range</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid quarto-figure-center" style="width:100.0%"></p>
</div>
</div>
<p>Once again, we see that the dangerousness of accidents does not seem to be affected by the month of the year, as fatal accidents are stable (variation of xxx over the months).</p>
</section>
<section id="graph-of-proportion-of-accidents-by-m.o.y-per-severity-es" class="level3">
<h3 class="anchored" data-anchor-id="graph-of-proportion-of-accidents-by-m.o.y-per-severity-es">Graph of Proportion of Accidents by M.O.Y per Severity (+ %es)</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>accidents_by_month_severity <span class="ot">&lt;-</span> q2_clean <span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month_name, accident_severity_chr) <span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the total accidents per day</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>total_accidents_by_month <span class="ot">&lt;-</span> accidents_by_month_severity <span class="sc">%&gt;%</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month_name) <span class="sc">%&gt;%</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_count =</span> <span class="fu">sum</span>(count))</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Join to get the total accidents per day alongside the count per severity</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>accidents_by_month_severity <span class="ot">&lt;-</span> accidents_by_month_severity <span class="sc">%&gt;%</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(total_accidents_by_month, <span class="at">by =</span> <span class="st">"month_name"</span>)</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the proportion of each severity type per day</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>accidents_by_month_severity <span class="ot">&lt;-</span> accidents_by_month_severity <span class="sc">%&gt;%</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> count <span class="sc">/</span> total_count)</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Now plot the proportions with data labels</span></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(accidents_by_month_severity, <span class="fu">aes</span>(<span class="at">x =</span> month_name, <span class="at">y =</span> proportion, <span class="at">fill =</span> accident_severity_chr)) <span class="sc">+</span></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">percent</span>(proportion, <span class="at">accuracy =</span> <span class="fl">0.1</span>)), </span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_fill</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>), </span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="at">Fatal =</span> <span class="st">"#FFEB00"</span>,</span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a>               <span class="at">Serious =</span> <span class="st">"#BBBBBB"</span>,</span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a>               <span class="at">Slight =</span> <span class="st">"#4C4E4D"</span>),</span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Severity of Accident"</span></span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Month of Year"</span>,</span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Proportion of Accidents"</span>,</span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Proportion of Accidents by MOY per Severity (Excluding 'Slight')"</span></span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb36-38"><a href="#cb36-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb36-39"><a href="#cb36-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid quarto-figure-center" style="width:100.0%"></p>
</div>
</div>
<p>So there doesn’t seem to be a very definite seasonality for accidents in the UK. However, we decided to see if we could detect any variations in terms of the number of accidents per day within the year under analysis. To do this, we have created a graph showing the evolution of the number of accidents over time (without considering whether it’s a weekday or a weekend).</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Count accidents per month</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>q2_clean<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(q2_clean<span class="sc">$</span>date)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize accidents per day</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>accidents_per_day <span class="ot">&lt;-</span> q2_clean <span class="sc">%&gt;%</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">daily_count =</span> <span class="fu">n</span>())</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract month from date</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>accidents_per_day<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">month</span>(accidents_per_day<span class="sc">$</span>date, <span class="at">label =</span> <span class="cn">TRUE</span>)</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the boxplot</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(accidents_per_day, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> daily_count)) <span class="sc">+</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Month of the Year"</span>,</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Daily Count of Accidents"</span>,</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Boxplot of Daily Accident Counts by Month"</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid quarto-figure-center" style="width:100.0%"></p>
</div>
</div>
</section>
<section id="daily-acounts-of-accidents-w-rolling-average-interactive-if-possible" class="level3">
<h3 class="anchored" data-anchor-id="daily-acounts-of-accidents-w-rolling-average-interactive-if-possible">Daily Acounts of Accidents (w/ rolling average) –&gt; Interactive if possible</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>daily_counts <span class="ot">&lt;-</span> q2_clean <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>())</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>daily_counts<span class="sc">$</span>rolling_avg <span class="ot">&lt;-</span> zoo<span class="sc">::</span><span class="fu">rollmean</span>(daily_counts<span class="sc">$</span>count, <span class="at">k =</span> <span class="dv">7</span>, <span class="at">fill =</span> <span class="cn">NA</span>)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the ggplot object</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(daily_counts) <span class="sc">+</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> count, <span class="at">color =</span> <span class="st">"Daily Counts"</span>), <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> rolling_avg, <span class="at">color =</span> <span class="st">"7-Day Rolling Average"</span>), <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Daily Counts and 7-Day Rolling Average of Accidents"</span>,</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Date"</span>, </span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of Accidents"</span>) <span class="sc">+</span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Daily Counts"</span> <span class="ot">=</span> <span class="st">"#4C4E4D"</span>, <span class="st">"7-Day Rolling Average"</span> <span class="ot">=</span> <span class="st">"#FE4A49"</span>)) <span class="sc">+</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Legend"</span>))</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to an interactive plot with specified sizing</span></span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p, <span class="at">tooltip =</span> <span class="fu">c</span>(<span class="st">"x"</span>, <span class="st">"y"</span>, <span class="st">"color"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">autosize =</span> F, <span class="at">width =</span> <span class="dv">800</span>, <span class="at">height =</span> <span class="dv">600</span>)</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Specifying width/height in layout() is now deprecated.</span></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Please specify in ggplotly() or plot_ly()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-641fe1cfd41eefa9ad0c" style="width:100%;height:1500px;"></div>
<script type="application/json" data-for="htmlwidget-641fe1cfd41eefa9ad0c">{"x":{"data":[{"x":[18993,18994,18995,18996,18997,18998,18999,19000,19001,19002,19003,19004,19005,19006,19007,19008,19009,19010,19011,19012,19013,19014,19015,19016,19017,19018,19019,19020,19021,19022,19023,19024,19025,19026,19027,19028,19029,19030,19031,19032,19033,19034,19035,19036,19037,19038,19039,19040,19041,19042,19043,19044,19045,19046,19047,19048,19049,19050,19051,19052,19053,19054,19055,19056,19057,19058,19059,19060,19061,19062,19063,19064,19065,19066,19067,19068,19069,19070,19071,19072,19073,19074,19075,19076,19077,19078,19079,19080,19081,19082,19083,19084,19085,19086,19087,19088,19089,19090,19091,19092,19093,19094,19095,19096,19097,19098,19099,19100,19101,19102,19103,19104,19105,19106,19107,19108,19109,19110,19111,19112,19113,19114,19115,19116,19117,19118,19119,19120,19121,19122,19123,19124,19125,19126,19127,19128,19129,19130,19131,19132,19133,19134,19135,19136,19137,19138,19139,19140,19141,19142,19143,19144,19145,19146,19147,19148,19149,19150,19151,19152,19153,19154,19155,19156,19157,19158,19159,19160,19161,19162,19163,19164,19165,19166,19167,19168,19169,19170,19171,19172,19173,19174,19175,19176,19177,19178,19179,19180,19181,19182,19183,19184,19185,19186,19187,19188,19189,19190,19191,19192,19193,19194,19195,19196,19197,19198,19199,19200,19201,19202,19203,19204,19205,19206,19207,19208,19209,19210,19211,19212,19213,19214,19215,19216,19217,19218,19219,19220,19221,19222,19223,19224,19225,19226,19227,19228,19229,19230,19231,19232,19233,19234,19235,19236,19237,19238,19239,19240,19241,19242,19243,19244,19245,19246,19247,19248,19249,19250,19251,19252,19253,19254,19255,19256,19257,19258,19259,19260,19261,19262,19263,19264,19265,19266,19267,19268,19269,19270,19271,19272,19273,19274,19275,19276,19277,19278,19279,19280,19281,19282,19283,19284,19285,19286,19287,19288,19289,19290,19291,19292,19293,19294,19295,19296,19297,19298,19299,19300,19301,19302,19303,19304,19305,19306,19307,19308,19309,19310,19311,19312,19313,19314,19315,19316,19317,19318,19319,19320,19321,19322,19323,19324,19325,19326,19327,19328,19329,19330,19331,19332,19333,19334,19335,19336,19337,19338,19339,19340,19341,19342,19343,19344,19345,19346,19347,19348,19349,19350,19351,19352,19353,19354,19355,19356,19357],"y":[180,148,150,239,283,249,311,202,211,264,278,353,394,430,244,191,375,289,309,321,352,289,188,277,259,310,315,348,283,263,246,298,290,271,318,244,200,302,246,297,289,348,226,222,276,225,242,256,237,269,162,205,246,246,275,323,288,227,272,276,265,310,281,244,192,223,247,260,276,295,268,173,269,246,291,333,331,277,211,215,278,310,261,356,337,238,247,274,272,311,309,228,212,207,221,257,279,288,258,195,191,226,254,304,247,279,189,220,223,255,307,279,231,242,218,278,262,262,351,306,232,205,235,278,304,343,273,257,273,264,314,335,348,333,209,281,337,321,286,343,281,245,251,300,252,256,350,287,214,267,275,304,259,275,235,190,254,304,325,288,369,271,241,307,340,326,352,432,266,209,336,371,382,286,359,277,263,284,283,257,271,323,277,220,276,286,264,310,392,329,339,312,272,301,346,339,288,279,287,271,254,261,260,266,236,240,245,268,235,319,241,258,250,256,265,318,322,316,259,272,316,369,334,337,334,248,251,243,256,289,327,271,244,242,252,261,269,318,284,210,193,256,275,264,303,271,223,283,276,298,307,281,234,246,257,296,286,278,372,292,258,139,296,268,299,317,286,244,280,291,318,312,329,354,197,251,296,311,337,348,340,213,344,274,239,322,335,295,237,289,301,255,333,341,272,217,240,247,301,246,340,270,224,308,307,308,353,434,265,190,288,309,354,294,295,281,239,270,327,355,354,353,274,196,322,302,332,309,377,260,227,334,272,280,300,322,259,168,276,330,324,381,362,294,229,184,216,294,357,328,241,211,227,286,265,261,267,207,132,159,176,169,176,178,169],"text":["date: 2022-01-01<br />count: 180<br />colour: Daily Counts","date: 2022-01-02<br />count: 148<br />colour: Daily Counts","date: 2022-01-03<br />count: 150<br />colour: Daily Counts","date: 2022-01-04<br />count: 239<br />colour: Daily Counts","date: 2022-01-05<br />count: 283<br />colour: Daily Counts","date: 2022-01-06<br />count: 249<br />colour: Daily Counts","date: 2022-01-07<br />count: 311<br />colour: Daily Counts","date: 2022-01-08<br />count: 202<br />colour: Daily Counts","date: 2022-01-09<br />count: 211<br />colour: Daily Counts","date: 2022-01-10<br />count: 264<br />colour: Daily Counts","date: 2022-01-11<br />count: 278<br />colour: Daily Counts","date: 2022-01-12<br />count: 353<br />colour: Daily Counts","date: 2022-01-13<br />count: 394<br />colour: Daily Counts","date: 2022-01-14<br />count: 430<br />colour: Daily Counts","date: 2022-01-15<br />count: 244<br />colour: Daily Counts","date: 2022-01-16<br />count: 191<br />colour: Daily Counts","date: 2022-01-17<br />count: 375<br />colour: Daily Counts","date: 2022-01-18<br />count: 289<br />colour: Daily Counts","date: 2022-01-19<br />count: 309<br />colour: Daily Counts","date: 2022-01-20<br />count: 321<br />colour: Daily Counts","date: 2022-01-21<br />count: 352<br />colour: Daily Counts","date: 2022-01-22<br />count: 289<br />colour: Daily Counts","date: 2022-01-23<br />count: 188<br />colour: Daily Counts","date: 2022-01-24<br />count: 277<br />colour: Daily Counts","date: 2022-01-25<br />count: 259<br />colour: Daily Counts","date: 2022-01-26<br />count: 310<br />colour: Daily Counts","date: 2022-01-27<br />count: 315<br />colour: Daily Counts","date: 2022-01-28<br />count: 348<br />colour: Daily Counts","date: 2022-01-29<br />count: 283<br />colour: Daily Counts","date: 2022-01-30<br />count: 263<br />colour: Daily Counts","date: 2022-01-31<br />count: 246<br />colour: Daily Counts","date: 2022-02-01<br />count: 298<br />colour: Daily Counts","date: 2022-02-02<br />count: 290<br />colour: Daily Counts","date: 2022-02-03<br />count: 271<br />colour: Daily Counts","date: 2022-02-04<br />count: 318<br />colour: Daily Counts","date: 2022-02-05<br />count: 244<br />colour: Daily Counts","date: 2022-02-06<br />count: 200<br />colour: Daily Counts","date: 2022-02-07<br />count: 302<br />colour: Daily Counts","date: 2022-02-08<br />count: 246<br />colour: Daily Counts","date: 2022-02-09<br />count: 297<br />colour: Daily Counts","date: 2022-02-10<br />count: 289<br />colour: Daily Counts","date: 2022-02-11<br />count: 348<br />colour: Daily Counts","date: 2022-02-12<br />count: 226<br />colour: Daily Counts","date: 2022-02-13<br />count: 222<br />colour: Daily Counts","date: 2022-02-14<br />count: 276<br />colour: Daily Counts","date: 2022-02-15<br />count: 225<br />colour: Daily Counts","date: 2022-02-16<br />count: 242<br />colour: Daily Counts","date: 2022-02-17<br />count: 256<br />colour: Daily Counts","date: 2022-02-18<br />count: 237<br />colour: Daily Counts","date: 2022-02-19<br />count: 269<br />colour: Daily Counts","date: 2022-02-20<br />count: 162<br />colour: Daily Counts","date: 2022-02-21<br />count: 205<br />colour: Daily Counts","date: 2022-02-22<br />count: 246<br />colour: Daily Counts","date: 2022-02-23<br />count: 246<br />colour: Daily Counts","date: 2022-02-24<br />count: 275<br />colour: Daily Counts","date: 2022-02-25<br />count: 323<br />colour: Daily Counts","date: 2022-02-26<br />count: 288<br />colour: Daily Counts","date: 2022-02-27<br />count: 227<br />colour: Daily Counts","date: 2022-02-28<br />count: 272<br />colour: Daily Counts","date: 2022-03-01<br />count: 276<br />colour: Daily Counts","date: 2022-03-02<br />count: 265<br />colour: Daily Counts","date: 2022-03-03<br />count: 310<br />colour: Daily Counts","date: 2022-03-04<br />count: 281<br />colour: Daily Counts","date: 2022-03-05<br />count: 244<br />colour: Daily Counts","date: 2022-03-06<br />count: 192<br />colour: Daily Counts","date: 2022-03-07<br />count: 223<br />colour: Daily Counts","date: 2022-03-08<br />count: 247<br />colour: Daily Counts","date: 2022-03-09<br />count: 260<br />colour: Daily Counts","date: 2022-03-10<br />count: 276<br />colour: Daily Counts","date: 2022-03-11<br />count: 295<br />colour: Daily Counts","date: 2022-03-12<br />count: 268<br />colour: Daily Counts","date: 2022-03-13<br />count: 173<br />colour: Daily Counts","date: 2022-03-14<br />count: 269<br />colour: Daily Counts","date: 2022-03-15<br />count: 246<br />colour: Daily Counts","date: 2022-03-16<br />count: 291<br />colour: Daily Counts","date: 2022-03-17<br />count: 333<br />colour: Daily Counts","date: 2022-03-18<br />count: 331<br />colour: Daily Counts","date: 2022-03-19<br />count: 277<br />colour: Daily Counts","date: 2022-03-20<br />count: 211<br />colour: Daily Counts","date: 2022-03-21<br />count: 215<br />colour: Daily Counts","date: 2022-03-22<br />count: 278<br />colour: Daily Counts","date: 2022-03-23<br />count: 310<br />colour: Daily Counts","date: 2022-03-24<br />count: 261<br />colour: Daily Counts","date: 2022-03-25<br />count: 356<br />colour: Daily Counts","date: 2022-03-26<br />count: 337<br />colour: Daily Counts","date: 2022-03-27<br />count: 238<br />colour: Daily Counts","date: 2022-03-28<br />count: 247<br />colour: Daily Counts","date: 2022-03-29<br />count: 274<br />colour: Daily Counts","date: 2022-03-30<br />count: 272<br />colour: Daily Counts","date: 2022-03-31<br />count: 311<br />colour: Daily Counts","date: 2022-04-01<br />count: 309<br />colour: Daily Counts","date: 2022-04-02<br />count: 228<br />colour: Daily Counts","date: 2022-04-03<br />count: 212<br />colour: Daily Counts","date: 2022-04-04<br />count: 207<br />colour: Daily Counts","date: 2022-04-05<br />count: 221<br />colour: Daily Counts","date: 2022-04-06<br />count: 257<br />colour: Daily Counts","date: 2022-04-07<br />count: 279<br />colour: Daily Counts","date: 2022-04-08<br />count: 288<br />colour: Daily Counts","date: 2022-04-09<br />count: 258<br />colour: Daily Counts","date: 2022-04-10<br />count: 195<br />colour: Daily Counts","date: 2022-04-11<br />count: 191<br />colour: Daily Counts","date: 2022-04-12<br />count: 226<br />colour: Daily Counts","date: 2022-04-13<br />count: 254<br />colour: Daily Counts","date: 2022-04-14<br />count: 304<br />colour: Daily Counts","date: 2022-04-15<br />count: 247<br />colour: Daily Counts","date: 2022-04-16<br />count: 279<br />colour: Daily Counts","date: 2022-04-17<br />count: 189<br />colour: Daily Counts","date: 2022-04-18<br />count: 220<br />colour: Daily Counts","date: 2022-04-19<br />count: 223<br />colour: Daily Counts","date: 2022-04-20<br />count: 255<br />colour: Daily Counts","date: 2022-04-21<br />count: 307<br />colour: Daily Counts","date: 2022-04-22<br />count: 279<br />colour: Daily Counts","date: 2022-04-23<br />count: 231<br />colour: Daily Counts","date: 2022-04-24<br />count: 242<br />colour: Daily Counts","date: 2022-04-25<br />count: 218<br />colour: Daily Counts","date: 2022-04-26<br />count: 278<br />colour: Daily Counts","date: 2022-04-27<br />count: 262<br />colour: Daily Counts","date: 2022-04-28<br />count: 262<br />colour: Daily Counts","date: 2022-04-29<br />count: 351<br />colour: Daily Counts","date: 2022-04-30<br />count: 306<br />colour: Daily Counts","date: 2022-05-01<br />count: 232<br />colour: Daily Counts","date: 2022-05-02<br />count: 205<br />colour: Daily Counts","date: 2022-05-03<br />count: 235<br />colour: Daily Counts","date: 2022-05-04<br />count: 278<br />colour: Daily Counts","date: 2022-05-05<br />count: 304<br />colour: Daily Counts","date: 2022-05-06<br />count: 343<br />colour: Daily Counts","date: 2022-05-07<br />count: 273<br />colour: Daily Counts","date: 2022-05-08<br />count: 257<br />colour: Daily Counts","date: 2022-05-09<br />count: 273<br />colour: Daily Counts","date: 2022-05-10<br />count: 264<br />colour: Daily Counts","date: 2022-05-11<br />count: 314<br />colour: Daily Counts","date: 2022-05-12<br />count: 335<br />colour: Daily Counts","date: 2022-05-13<br />count: 348<br />colour: Daily Counts","date: 2022-05-14<br />count: 333<br />colour: Daily Counts","date: 2022-05-15<br />count: 209<br />colour: Daily Counts","date: 2022-05-16<br />count: 281<br />colour: Daily Counts","date: 2022-05-17<br />count: 337<br />colour: Daily Counts","date: 2022-05-18<br />count: 321<br />colour: Daily Counts","date: 2022-05-19<br />count: 286<br />colour: Daily Counts","date: 2022-05-20<br />count: 343<br />colour: Daily Counts","date: 2022-05-21<br />count: 281<br />colour: Daily Counts","date: 2022-05-22<br />count: 245<br />colour: Daily Counts","date: 2022-05-23<br />count: 251<br />colour: Daily Counts","date: 2022-05-24<br />count: 300<br />colour: Daily Counts","date: 2022-05-25<br />count: 252<br />colour: Daily Counts","date: 2022-05-26<br />count: 256<br />colour: Daily Counts","date: 2022-05-27<br />count: 350<br />colour: Daily Counts","date: 2022-05-28<br />count: 287<br />colour: Daily Counts","date: 2022-05-29<br />count: 214<br />colour: Daily Counts","date: 2022-05-30<br />count: 267<br />colour: Daily Counts","date: 2022-05-31<br />count: 275<br />colour: Daily Counts","date: 2022-06-01<br />count: 304<br />colour: Daily Counts","date: 2022-06-02<br />count: 259<br />colour: Daily Counts","date: 2022-06-03<br />count: 275<br />colour: Daily Counts","date: 2022-06-04<br />count: 235<br />colour: Daily Counts","date: 2022-06-05<br />count: 190<br />colour: Daily Counts","date: 2022-06-06<br />count: 254<br />colour: Daily Counts","date: 2022-06-07<br />count: 304<br />colour: Daily Counts","date: 2022-06-08<br />count: 325<br />colour: Daily Counts","date: 2022-06-09<br />count: 288<br />colour: Daily Counts","date: 2022-06-10<br />count: 369<br />colour: Daily Counts","date: 2022-06-11<br />count: 271<br />colour: Daily Counts","date: 2022-06-12<br />count: 241<br />colour: Daily Counts","date: 2022-06-13<br />count: 307<br />colour: Daily Counts","date: 2022-06-14<br />count: 340<br />colour: Daily Counts","date: 2022-06-15<br />count: 326<br />colour: Daily Counts","date: 2022-06-16<br />count: 352<br />colour: Daily Counts","date: 2022-06-17<br />count: 432<br />colour: Daily Counts","date: 2022-06-18<br />count: 266<br />colour: Daily Counts","date: 2022-06-19<br />count: 209<br />colour: Daily Counts","date: 2022-06-20<br />count: 336<br />colour: Daily Counts","date: 2022-06-21<br />count: 371<br />colour: Daily Counts","date: 2022-06-22<br />count: 382<br />colour: Daily Counts","date: 2022-06-23<br />count: 286<br />colour: Daily Counts","date: 2022-06-24<br />count: 359<br />colour: Daily Counts","date: 2022-06-25<br />count: 277<br />colour: Daily Counts","date: 2022-06-26<br />count: 263<br />colour: Daily Counts","date: 2022-06-27<br />count: 284<br />colour: Daily Counts","date: 2022-06-28<br />count: 283<br />colour: Daily Counts","date: 2022-06-29<br />count: 257<br />colour: Daily Counts","date: 2022-06-30<br />count: 271<br />colour: Daily Counts","date: 2022-07-01<br />count: 323<br />colour: Daily Counts","date: 2022-07-02<br />count: 277<br />colour: Daily Counts","date: 2022-07-03<br />count: 220<br />colour: Daily Counts","date: 2022-07-04<br />count: 276<br />colour: Daily Counts","date: 2022-07-05<br />count: 286<br />colour: Daily Counts","date: 2022-07-06<br />count: 264<br />colour: Daily Counts","date: 2022-07-07<br />count: 310<br />colour: Daily Counts","date: 2022-07-08<br />count: 392<br />colour: Daily Counts","date: 2022-07-09<br />count: 329<br />colour: Daily Counts","date: 2022-07-10<br />count: 339<br />colour: Daily Counts","date: 2022-07-11<br />count: 312<br />colour: Daily Counts","date: 2022-07-12<br />count: 272<br />colour: Daily Counts","date: 2022-07-13<br />count: 301<br />colour: Daily Counts","date: 2022-07-14<br />count: 346<br />colour: Daily Counts","date: 2022-07-15<br />count: 339<br />colour: Daily Counts","date: 2022-07-16<br />count: 288<br />colour: Daily Counts","date: 2022-07-17<br />count: 279<br />colour: Daily Counts","date: 2022-07-18<br />count: 287<br />colour: Daily Counts","date: 2022-07-19<br />count: 271<br />colour: Daily Counts","date: 2022-07-20<br />count: 254<br />colour: Daily Counts","date: 2022-07-21<br />count: 261<br />colour: Daily Counts","date: 2022-07-22<br />count: 260<br />colour: Daily Counts","date: 2022-07-23<br />count: 266<br />colour: Daily Counts","date: 2022-07-24<br />count: 236<br />colour: Daily Counts","date: 2022-07-25<br />count: 240<br />colour: Daily Counts","date: 2022-07-26<br />count: 245<br />colour: Daily Counts","date: 2022-07-27<br />count: 268<br />colour: Daily Counts","date: 2022-07-28<br />count: 235<br />colour: Daily Counts","date: 2022-07-29<br />count: 319<br />colour: Daily Counts","date: 2022-07-30<br />count: 241<br />colour: Daily Counts","date: 2022-07-31<br />count: 258<br />colour: Daily Counts","date: 2022-08-01<br />count: 250<br />colour: Daily Counts","date: 2022-08-02<br />count: 256<br />colour: Daily Counts","date: 2022-08-03<br />count: 265<br />colour: Daily Counts","date: 2022-08-04<br />count: 318<br />colour: Daily Counts","date: 2022-08-05<br />count: 322<br />colour: Daily Counts","date: 2022-08-06<br />count: 316<br />colour: Daily Counts","date: 2022-08-07<br />count: 259<br />colour: Daily Counts","date: 2022-08-08<br />count: 272<br />colour: Daily Counts","date: 2022-08-09<br />count: 316<br />colour: Daily Counts","date: 2022-08-10<br />count: 369<br />colour: Daily Counts","date: 2022-08-11<br />count: 334<br />colour: Daily Counts","date: 2022-08-12<br />count: 337<br />colour: Daily Counts","date: 2022-08-13<br />count: 334<br />colour: Daily Counts","date: 2022-08-14<br />count: 248<br />colour: Daily Counts","date: 2022-08-15<br />count: 251<br />colour: Daily Counts","date: 2022-08-16<br />count: 243<br />colour: Daily Counts","date: 2022-08-17<br />count: 256<br />colour: Daily Counts","date: 2022-08-18<br />count: 289<br />colour: Daily Counts","date: 2022-08-19<br />count: 327<br />colour: Daily Counts","date: 2022-08-20<br />count: 271<br />colour: Daily Counts","date: 2022-08-21<br />count: 244<br />colour: Daily Counts","date: 2022-08-22<br />count: 242<br />colour: Daily Counts","date: 2022-08-23<br />count: 252<br />colour: Daily Counts","date: 2022-08-24<br />count: 261<br />colour: Daily Counts","date: 2022-08-25<br />count: 269<br />colour: Daily Counts","date: 2022-08-26<br />count: 318<br />colour: Daily Counts","date: 2022-08-27<br />count: 284<br />colour: Daily Counts","date: 2022-08-28<br />count: 210<br />colour: Daily Counts","date: 2022-08-29<br />count: 193<br />colour: Daily Counts","date: 2022-08-30<br />count: 256<br />colour: Daily Counts","date: 2022-08-31<br />count: 275<br />colour: Daily Counts","date: 2022-09-01<br />count: 264<br />colour: Daily Counts","date: 2022-09-02<br />count: 303<br />colour: Daily Counts","date: 2022-09-03<br />count: 271<br />colour: Daily Counts","date: 2022-09-04<br />count: 223<br />colour: Daily Counts","date: 2022-09-05<br />count: 283<br />colour: Daily Counts","date: 2022-09-06<br />count: 276<br />colour: Daily Counts","date: 2022-09-07<br />count: 298<br />colour: Daily Counts","date: 2022-09-08<br />count: 307<br />colour: Daily Counts","date: 2022-09-09<br />count: 281<br />colour: Daily Counts","date: 2022-09-10<br />count: 234<br />colour: Daily Counts","date: 2022-09-11<br />count: 246<br />colour: Daily Counts","date: 2022-09-12<br />count: 257<br />colour: Daily Counts","date: 2022-09-13<br />count: 296<br />colour: Daily Counts","date: 2022-09-14<br />count: 286<br />colour: Daily Counts","date: 2022-09-15<br />count: 278<br />colour: Daily Counts","date: 2022-09-16<br />count: 372<br />colour: Daily Counts","date: 2022-09-17<br />count: 292<br />colour: Daily Counts","date: 2022-09-18<br />count: 258<br />colour: Daily Counts","date: 2022-09-19<br />count: 139<br />colour: Daily Counts","date: 2022-09-20<br />count: 296<br />colour: Daily Counts","date: 2022-09-21<br />count: 268<br />colour: Daily Counts","date: 2022-09-22<br />count: 299<br />colour: Daily Counts","date: 2022-09-23<br />count: 317<br />colour: Daily Counts","date: 2022-09-24<br />count: 286<br />colour: Daily Counts","date: 2022-09-25<br />count: 244<br />colour: Daily Counts","date: 2022-09-26<br />count: 280<br />colour: Daily Counts","date: 2022-09-27<br />count: 291<br />colour: Daily Counts","date: 2022-09-28<br />count: 318<br />colour: Daily Counts","date: 2022-09-29<br />count: 312<br />colour: Daily Counts","date: 2022-09-30<br />count: 329<br />colour: Daily Counts","date: 2022-10-01<br />count: 354<br />colour: Daily Counts","date: 2022-10-02<br />count: 197<br />colour: Daily Counts","date: 2022-10-03<br />count: 251<br />colour: Daily Counts","date: 2022-10-04<br />count: 296<br />colour: Daily Counts","date: 2022-10-05<br />count: 311<br />colour: Daily Counts","date: 2022-10-06<br />count: 337<br />colour: Daily Counts","date: 2022-10-07<br />count: 348<br />colour: Daily Counts","date: 2022-10-08<br />count: 340<br />colour: Daily Counts","date: 2022-10-09<br />count: 213<br />colour: Daily Counts","date: 2022-10-10<br />count: 344<br />colour: Daily Counts","date: 2022-10-11<br />count: 274<br />colour: Daily Counts","date: 2022-10-12<br />count: 239<br />colour: Daily Counts","date: 2022-10-13<br />count: 322<br />colour: Daily Counts","date: 2022-10-14<br />count: 335<br />colour: Daily Counts","date: 2022-10-15<br />count: 295<br />colour: Daily Counts","date: 2022-10-16<br />count: 237<br />colour: Daily Counts","date: 2022-10-17<br />count: 289<br />colour: Daily Counts","date: 2022-10-18<br />count: 301<br />colour: Daily Counts","date: 2022-10-19<br />count: 255<br />colour: Daily Counts","date: 2022-10-20<br />count: 333<br />colour: Daily Counts","date: 2022-10-21<br />count: 341<br />colour: Daily Counts","date: 2022-10-22<br />count: 272<br />colour: Daily Counts","date: 2022-10-23<br />count: 217<br />colour: Daily Counts","date: 2022-10-24<br />count: 240<br />colour: Daily Counts","date: 2022-10-25<br />count: 247<br />colour: Daily Counts","date: 2022-10-26<br />count: 301<br />colour: Daily Counts","date: 2022-10-27<br />count: 246<br />colour: Daily Counts","date: 2022-10-28<br />count: 340<br />colour: Daily Counts","date: 2022-10-29<br />count: 270<br />colour: Daily Counts","date: 2022-10-30<br />count: 224<br />colour: Daily Counts","date: 2022-10-31<br />count: 308<br />colour: Daily Counts","date: 2022-11-01<br />count: 307<br />colour: Daily Counts","date: 2022-11-02<br />count: 308<br />colour: Daily Counts","date: 2022-11-03<br />count: 353<br />colour: Daily Counts","date: 2022-11-04<br />count: 434<br />colour: Daily Counts","date: 2022-11-05<br />count: 265<br />colour: Daily Counts","date: 2022-11-06<br />count: 190<br />colour: Daily Counts","date: 2022-11-07<br />count: 288<br />colour: Daily Counts","date: 2022-11-08<br />count: 309<br />colour: Daily Counts","date: 2022-11-09<br />count: 354<br />colour: Daily Counts","date: 2022-11-10<br />count: 294<br />colour: Daily Counts","date: 2022-11-11<br />count: 295<br />colour: Daily Counts","date: 2022-11-12<br />count: 281<br />colour: Daily Counts","date: 2022-11-13<br />count: 239<br />colour: Daily Counts","date: 2022-11-14<br />count: 270<br />colour: Daily Counts","date: 2022-11-15<br />count: 327<br />colour: Daily Counts","date: 2022-11-16<br />count: 355<br />colour: Daily Counts","date: 2022-11-17<br />count: 354<br />colour: Daily Counts","date: 2022-11-18<br />count: 353<br />colour: Daily Counts","date: 2022-11-19<br />count: 274<br />colour: Daily Counts","date: 2022-11-20<br />count: 196<br />colour: Daily Counts","date: 2022-11-21<br />count: 322<br />colour: Daily Counts","date: 2022-11-22<br />count: 302<br />colour: Daily Counts","date: 2022-11-23<br />count: 332<br />colour: Daily Counts","date: 2022-11-24<br />count: 309<br />colour: Daily Counts","date: 2022-11-25<br />count: 377<br />colour: Daily Counts","date: 2022-11-26<br />count: 260<br />colour: Daily Counts","date: 2022-11-27<br />count: 227<br />colour: Daily Counts","date: 2022-11-28<br />count: 334<br />colour: Daily Counts","date: 2022-11-29<br />count: 272<br />colour: Daily Counts","date: 2022-11-30<br />count: 280<br />colour: Daily Counts","date: 2022-12-01<br />count: 300<br />colour: Daily Counts","date: 2022-12-02<br />count: 322<br />colour: Daily Counts","date: 2022-12-03<br />count: 259<br />colour: Daily Counts","date: 2022-12-04<br />count: 168<br />colour: Daily Counts","date: 2022-12-05<br />count: 276<br />colour: Daily Counts","date: 2022-12-06<br />count: 330<br />colour: Daily Counts","date: 2022-12-07<br />count: 324<br />colour: Daily Counts","date: 2022-12-08<br />count: 381<br />colour: Daily Counts","date: 2022-12-09<br />count: 362<br />colour: Daily Counts","date: 2022-12-10<br />count: 294<br />colour: Daily Counts","date: 2022-12-11<br />count: 229<br />colour: Daily Counts","date: 2022-12-12<br />count: 184<br />colour: Daily Counts","date: 2022-12-13<br />count: 216<br />colour: Daily Counts","date: 2022-12-14<br />count: 294<br />colour: Daily Counts","date: 2022-12-15<br />count: 357<br />colour: Daily Counts","date: 2022-12-16<br />count: 328<br />colour: Daily Counts","date: 2022-12-17<br />count: 241<br />colour: Daily Counts","date: 2022-12-18<br />count: 211<br />colour: Daily Counts","date: 2022-12-19<br />count: 227<br />colour: Daily Counts","date: 2022-12-20<br />count: 286<br />colour: Daily Counts","date: 2022-12-21<br />count: 265<br />colour: Daily Counts","date: 2022-12-22<br />count: 261<br />colour: Daily Counts","date: 2022-12-23<br />count: 267<br />colour: Daily Counts","date: 2022-12-24<br />count: 207<br />colour: Daily Counts","date: 2022-12-25<br />count: 132<br />colour: Daily Counts","date: 2022-12-26<br />count: 159<br />colour: Daily Counts","date: 2022-12-27<br />count: 176<br />colour: Daily Counts","date: 2022-12-28<br />count: 169<br />colour: Daily Counts","date: 2022-12-29<br />count: 176<br />colour: Daily Counts","date: 2022-12-30<br />count: 178<br />colour: Daily Counts","date: 2022-12-31<br />count: 169<br />colour: Daily Counts"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(76,78,77,1)","dash":"solid"},"hoveron":"points","name":"Daily Counts","legendgroup":"Daily Counts","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[18993,18994,18995,18996,18997,18998,18999,19000,19001,19002,19003,19004,19005,19006,19007,19008,19009,19010,19011,19012,19013,19014,19015,19016,19017,19018,19019,19020,19021,19022,19023,19024,19025,19026,19027,19028,19029,19030,19031,19032,19033,19034,19035,19036,19037,19038,19039,19040,19041,19042,19043,19044,19045,19046,19047,19048,19049,19050,19051,19052,19053,19054,19055,19056,19057,19058,19059,19060,19061,19062,19063,19064,19065,19066,19067,19068,19069,19070,19071,19072,19073,19074,19075,19076,19077,19078,19079,19080,19081,19082,19083,19084,19085,19086,19087,19088,19089,19090,19091,19092,19093,19094,19095,19096,19097,19098,19099,19100,19101,19102,19103,19104,19105,19106,19107,19108,19109,19110,19111,19112,19113,19114,19115,19116,19117,19118,19119,19120,19121,19122,19123,19124,19125,19126,19127,19128,19129,19130,19131,19132,19133,19134,19135,19136,19137,19138,19139,19140,19141,19142,19143,19144,19145,19146,19147,19148,19149,19150,19151,19152,19153,19154,19155,19156,19157,19158,19159,19160,19161,19162,19163,19164,19165,19166,19167,19168,19169,19170,19171,19172,19173,19174,19175,19176,19177,19178,19179,19180,19181,19182,19183,19184,19185,19186,19187,19188,19189,19190,19191,19192,19193,19194,19195,19196,19197,19198,19199,19200,19201,19202,19203,19204,19205,19206,19207,19208,19209,19210,19211,19212,19213,19214,19215,19216,19217,19218,19219,19220,19221,19222,19223,19224,19225,19226,19227,19228,19229,19230,19231,19232,19233,19234,19235,19236,19237,19238,19239,19240,19241,19242,19243,19244,19245,19246,19247,19248,19249,19250,19251,19252,19253,19254,19255,19256,19257,19258,19259,19260,19261,19262,19263,19264,19265,19266,19267,19268,19269,19270,19271,19272,19273,19274,19275,19276,19277,19278,19279,19280,19281,19282,19283,19284,19285,19286,19287,19288,19289,19290,19291,19292,19293,19294,19295,19296,19297,19298,19299,19300,19301,19302,19303,19304,19305,19306,19307,19308,19309,19310,19311,19312,19313,19314,19315,19316,19317,19318,19319,19320,19321,19322,19323,19324,19325,19326,19327,19328,19329,19330,19331,19332,19333,19334,19335,19336,19337,19338,19339,19340,19341,19342,19343,19344,19345,19346,19347,19348,19349,19350,19351,19352,19353,19354,19355,19356,19357],"y":[null,null,null,222.85714285714286,226,235,251.28571428571428,256.85714285714283,266.85714285714283,287.57142857142856,304.57142857142856,310.57142857142856,307.71428571428572,323.57142857142856,325.14285714285717,318.85714285714283,308.42857142857144,297.28571428571428,303.71428571428572,303.28571428571428,289.28571428571428,285,285.14285714285717,284.28571428571428,283.71428571428572,282.85714285714283,293.57142857142856,289.14285714285717,294.71428571428572,291.85714285714283,285.57142857142856,281.28571428571428,275.71428571428572,266.71428571428572,274.71428571428572,267.28571428571428,268.28571428571428,270.85714285714283,275.14285714285717,272.57142857142856,275.71428571428572,272,269,261.14285714285717,256.42857142857144,240.57142857142858,246.71428571428572,238.14285714285714,228,231,231.57142857142858,234.28571428571428,246.57142857142858,249.28571428571428,258.57142857142856,268.14285714285717,272.42857142857144,275.14285714285717,280.14285714285717,274.14285714285717,267.85714285714283,262.85714285714283,255.85714285714286,251.71428571428572,251,246.14285714285714,248.14285714285714,251.57142857142858,248.85714285714286,255.42857142857142,255.28571428571428,259.71428571428572,267.85714285714283,273,274.28571428571428,279.71428571428572,272,276.57142857142856,279.28571428571428,269,272.57142857142856,281.14285714285717,285,289.57142857142856,289,283.57142857142856,290.71428571428572,284,268.42857142857144,264.71428571428572,259,251.42857142857142,249.28571428571428,244.71428571428572,241.71428571428572,246,243.57142857142858,241.28571428571428,242,241.57142857142858,245.14285714285714,239.28571428571428,242.28571428571428,241.42857142857142,245.57142857142858,245.14285714285714,245.28571428571428,245.71428571428572,250.28571428571428,243.42857142857142,251,250.71428571428572,258.57142857142856,259.57142857142856,253.14285714285714,263.42857142857144,274.14285714285717,272.71428571428572,270.85714285714283,264.71428571428572,267,273,271.85714285714283,267.14285714285717,270.71428571428572,280.42857142857144,284.57142857142856,289.71428571428572,294.14285714285717,294.85714285714283,303.42857142857144,296.57142857142856,297.71428571428572,308.14285714285717,309.14285714285717,302.14285714285717,301.42857142857144,294,299.14285714285717,294.85714285714283,289.57142857142856,279.71428571428572,275.42857142857144,276.42857142857144,277.28571428571428,272.85714285714283,275.14285714285717,271.57142857142856,279,279.42857142857144,268.71428571428572,261.28571428571428,257.85714285714283,256,260.14285714285717,263.14285714285717,267.28571428571428,280.71428571428572,285.85714285714283,293.14285714285717,300.71428571428572,305.85714285714283,306,315.14285714285717,324.14285714285717,323.42857142857144,318.85714285714283,323,327.42857142857144,335.42857142857144,326,315.57142857142856,317.14285714285717,324.85714285714283,317.42857142857144,304.85714285714283,287,284.85714285714283,279.71428571428572,279.71428571428572,273.57142857142856,272.42857142857144,272.85714285714283,273.85714285714283,279.42857142857144,289.28571428571428,296.71428571428572,313.71428571428572,318.85714285714283,316.85714285714283,322.14285714285717,327.28571428571428,319.71428571428572,313.85714285714283,305.28571428571428,301.71428571428572,301.57142857142856,294.85714285714283,282.71428571428572,271.42857142857144,268.28571428571428,262.14285714285717,255.42857142857142,251.71428571428572,253.71428571428572,250,258.42857142857144,254.85714285714286,258,259.42857142857144,261,260.57142857142856,272.42857142857144,272.85714285714283,283.57142857142856,283.71428571428572,286.85714285714283,295.42857142857144,310.28571428571428,312.57142857142856,314.71428571428572,317.28571428571428,315.71428571428572,312.71428571428572,302.28571428571428,286.14285714285717,279.71428571428572,278.28571428571428,269.28571428571428,268.71428571428572,267.42857142857144,268.71428571428572,269.42857142857144,266.57142857142856,265.28571428571428,267.14285714285717,262.28571428571428,255.28571428571428,255.85714285714286,257.85714285714283,257.14285714285717,255,253.14285714285714,255,267.85714285714283,270.71428571428572,274,280.14285714285717,277,271.71428571428572,275,271.28571428571428,274.14285714285717,272.42857142857144,268.28571428571428,281.28571428571428,289.57142857142856,291.28571428571428,274.42857142857144,274.42857142857144,271.85714285714283,274.85714285714283,267,266.14285714285717,264.14285714285717,284.28571428571428,283.57142857142856,290.71428571428572,292.57142857142856,294.28571428571428,304,297.28571428571428,293.14285714285717,293.85714285714283,292.85714285714283,296.42857142857144,299.14285714285717,297.14285714285717,299.42857142857144,312.71428571428572,309.57142857142856,299.28571428571428,297.14285714285717,295.28571428571428,288.85714285714283,292.28571428571428,284.42857142857144,288.28571428571428,290.57142857142856,292.14285714285717,293,289.71428571428572,286.85714285714283,279.85714285714283,272.14285714285717,278.71428571428572,266.28571428571428,266.14285714285717,265.85714285714283,266.85714285714283,276.57142857142856,285.14285714285717,286.14285714285717,301.42857142857144,314.85714285714283,314.14285714285717,309.28571428571428,306.42857142857144,306.71428571428572,313.28571428571428,304.85714285714283,285,287.28571428571428,294.28571428571428,291.71428571428572,294.28571428571428,294.42857142857144,303,311.28571428571428,310.28571428571428,304.14285714285717,311.57142857142856,308,304.71428571428572,298.28571428571428,301.71428571428572,299.71428571428572,304.14285714285717,305.85714285714283,301.57142857142856,294.14285714285717,292.85714285714283,285,284.85714285714283,276.42857142857144,268.14285714285717,276.42857142857144,282.71428571428572,294.28571428571428,300,305,313.71428571428572,300.57142857142856,284.28571428571428,280,276.57142857142856,271.71428571428572,264.14285714285717,261.57142857142856,267.71428571428572,277.71428571428572,273.57142857142856,259.85714285714283,251.14285714285714,246.28571428571428,235,225.28571428571428,209.57142857142858,195.85714285714286,183.71428571428572,171,165.57142857142858,null,null,null],"text":["date: 2022-01-01<br />rolling_avg:  NA<br />colour: 7-Day Rolling Average","date: 2022-01-02<br />rolling_avg:  NA<br />colour: 7-Day Rolling Average","date: 2022-01-03<br />rolling_avg:  NA<br />colour: 7-Day Rolling Average","date: 2022-01-04<br />rolling_avg: 223<br />colour: 7-Day Rolling Average","date: 2022-01-05<br />rolling_avg: 226<br />colour: 7-Day Rolling Average","date: 2022-01-06<br />rolling_avg: 235<br />colour: 7-Day Rolling Average","date: 2022-01-07<br />rolling_avg: 251<br />colour: 7-Day Rolling Average","date: 2022-01-08<br />rolling_avg: 257<br />colour: 7-Day Rolling Average","date: 2022-01-09<br />rolling_avg: 267<br />colour: 7-Day Rolling Average","date: 2022-01-10<br />rolling_avg: 288<br />colour: 7-Day Rolling Average","date: 2022-01-11<br />rolling_avg: 305<br />colour: 7-Day Rolling Average","date: 2022-01-12<br />rolling_avg: 311<br />colour: 7-Day Rolling Average","date: 2022-01-13<br />rolling_avg: 308<br />colour: 7-Day Rolling Average","date: 2022-01-14<br />rolling_avg: 324<br />colour: 7-Day Rolling Average","date: 2022-01-15<br />rolling_avg: 325<br />colour: 7-Day Rolling Average","date: 2022-01-16<br />rolling_avg: 319<br />colour: 7-Day Rolling Average","date: 2022-01-17<br />rolling_avg: 308<br />colour: 7-Day Rolling Average","date: 2022-01-18<br />rolling_avg: 297<br />colour: 7-Day Rolling Average","date: 2022-01-19<br />rolling_avg: 304<br />colour: 7-Day Rolling Average","date: 2022-01-20<br />rolling_avg: 303<br />colour: 7-Day Rolling Average","date: 2022-01-21<br />rolling_avg: 289<br />colour: 7-Day Rolling Average","date: 2022-01-22<br />rolling_avg: 285<br />colour: 7-Day Rolling Average","date: 2022-01-23<br />rolling_avg: 285<br />colour: 7-Day Rolling Average","date: 2022-01-24<br />rolling_avg: 284<br />colour: 7-Day Rolling Average","date: 2022-01-25<br />rolling_avg: 284<br />colour: 7-Day Rolling Average","date: 2022-01-26<br />rolling_avg: 283<br />colour: 7-Day Rolling Average","date: 2022-01-27<br />rolling_avg: 294<br />colour: 7-Day Rolling Average","date: 2022-01-28<br />rolling_avg: 289<br />colour: 7-Day Rolling Average","date: 2022-01-29<br />rolling_avg: 295<br />colour: 7-Day Rolling Average","date: 2022-01-30<br />rolling_avg: 292<br />colour: 7-Day Rolling Average","date: 2022-01-31<br />rolling_avg: 286<br />colour: 7-Day Rolling Average","date: 2022-02-01<br />rolling_avg: 281<br />colour: 7-Day Rolling Average","date: 2022-02-02<br />rolling_avg: 276<br />colour: 7-Day Rolling Average","date: 2022-02-03<br />rolling_avg: 267<br />colour: 7-Day Rolling Average","date: 2022-02-04<br />rolling_avg: 275<br />colour: 7-Day Rolling Average","date: 2022-02-05<br />rolling_avg: 267<br />colour: 7-Day Rolling Average","date: 2022-02-06<br />rolling_avg: 268<br />colour: 7-Day Rolling Average","date: 2022-02-07<br />rolling_avg: 271<br />colour: 7-Day Rolling Average","date: 2022-02-08<br />rolling_avg: 275<br />colour: 7-Day Rolling Average","date: 2022-02-09<br />rolling_avg: 273<br />colour: 7-Day Rolling Average","date: 2022-02-10<br />rolling_avg: 276<br />colour: 7-Day Rolling Average","date: 2022-02-11<br />rolling_avg: 272<br />colour: 7-Day Rolling Average","date: 2022-02-12<br />rolling_avg: 269<br />colour: 7-Day Rolling Average","date: 2022-02-13<br />rolling_avg: 261<br />colour: 7-Day Rolling Average","date: 2022-02-14<br />rolling_avg: 256<br />colour: 7-Day Rolling Average","date: 2022-02-15<br />rolling_avg: 241<br />colour: 7-Day Rolling Average","date: 2022-02-16<br />rolling_avg: 247<br />colour: 7-Day Rolling Average","date: 2022-02-17<br />rolling_avg: 238<br />colour: 7-Day Rolling Average","date: 2022-02-18<br />rolling_avg: 228<br />colour: 7-Day Rolling Average","date: 2022-02-19<br />rolling_avg: 231<br />colour: 7-Day Rolling Average","date: 2022-02-20<br />rolling_avg: 232<br />colour: 7-Day Rolling Average","date: 2022-02-21<br />rolling_avg: 234<br />colour: 7-Day Rolling Average","date: 2022-02-22<br />rolling_avg: 247<br />colour: 7-Day Rolling Average","date: 2022-02-23<br />rolling_avg: 249<br />colour: 7-Day Rolling Average","date: 2022-02-24<br />rolling_avg: 259<br />colour: 7-Day Rolling Average","date: 2022-02-25<br />rolling_avg: 268<br />colour: 7-Day Rolling Average","date: 2022-02-26<br />rolling_avg: 272<br />colour: 7-Day Rolling Average","date: 2022-02-27<br />rolling_avg: 275<br />colour: 7-Day Rolling Average","date: 2022-02-28<br />rolling_avg: 280<br />colour: 7-Day Rolling Average","date: 2022-03-01<br />rolling_avg: 274<br />colour: 7-Day Rolling Average","date: 2022-03-02<br />rolling_avg: 268<br />colour: 7-Day Rolling Average","date: 2022-03-03<br />rolling_avg: 263<br />colour: 7-Day Rolling Average","date: 2022-03-04<br />rolling_avg: 256<br />colour: 7-Day Rolling Average","date: 2022-03-05<br />rolling_avg: 252<br />colour: 7-Day Rolling Average","date: 2022-03-06<br />rolling_avg: 251<br />colour: 7-Day Rolling Average","date: 2022-03-07<br />rolling_avg: 246<br />colour: 7-Day Rolling Average","date: 2022-03-08<br />rolling_avg: 248<br />colour: 7-Day Rolling Average","date: 2022-03-09<br />rolling_avg: 252<br />colour: 7-Day Rolling Average","date: 2022-03-10<br />rolling_avg: 249<br />colour: 7-Day Rolling Average","date: 2022-03-11<br />rolling_avg: 255<br />colour: 7-Day Rolling Average","date: 2022-03-12<br />rolling_avg: 255<br />colour: 7-Day Rolling Average","date: 2022-03-13<br />rolling_avg: 260<br />colour: 7-Day Rolling Average","date: 2022-03-14<br />rolling_avg: 268<br />colour: 7-Day Rolling Average","date: 2022-03-15<br />rolling_avg: 273<br />colour: 7-Day Rolling Average","date: 2022-03-16<br />rolling_avg: 274<br />colour: 7-Day Rolling Average","date: 2022-03-17<br />rolling_avg: 280<br />colour: 7-Day Rolling Average","date: 2022-03-18<br />rolling_avg: 272<br />colour: 7-Day Rolling Average","date: 2022-03-19<br />rolling_avg: 277<br />colour: 7-Day Rolling Average","date: 2022-03-20<br />rolling_avg: 279<br />colour: 7-Day Rolling Average","date: 2022-03-21<br />rolling_avg: 269<br />colour: 7-Day Rolling Average","date: 2022-03-22<br />rolling_avg: 273<br />colour: 7-Day Rolling Average","date: 2022-03-23<br />rolling_avg: 281<br />colour: 7-Day Rolling Average","date: 2022-03-24<br />rolling_avg: 285<br />colour: 7-Day Rolling Average","date: 2022-03-25<br />rolling_avg: 290<br />colour: 7-Day Rolling Average","date: 2022-03-26<br />rolling_avg: 289<br />colour: 7-Day Rolling Average","date: 2022-03-27<br />rolling_avg: 284<br />colour: 7-Day Rolling Average","date: 2022-03-28<br />rolling_avg: 291<br />colour: 7-Day Rolling Average","date: 2022-03-29<br />rolling_avg: 284<br />colour: 7-Day Rolling Average","date: 2022-03-30<br />rolling_avg: 268<br />colour: 7-Day Rolling Average","date: 2022-03-31<br />rolling_avg: 265<br />colour: 7-Day Rolling Average","date: 2022-04-01<br />rolling_avg: 259<br />colour: 7-Day Rolling Average","date: 2022-04-02<br />rolling_avg: 251<br />colour: 7-Day Rolling Average","date: 2022-04-03<br />rolling_avg: 249<br />colour: 7-Day Rolling Average","date: 2022-04-04<br />rolling_avg: 245<br />colour: 7-Day Rolling Average","date: 2022-04-05<br />rolling_avg: 242<br />colour: 7-Day Rolling Average","date: 2022-04-06<br />rolling_avg: 246<br />colour: 7-Day Rolling Average","date: 2022-04-07<br />rolling_avg: 244<br />colour: 7-Day Rolling Average","date: 2022-04-08<br />rolling_avg: 241<br />colour: 7-Day Rolling Average","date: 2022-04-09<br />rolling_avg: 242<br />colour: 7-Day Rolling Average","date: 2022-04-10<br />rolling_avg: 242<br />colour: 7-Day Rolling Average","date: 2022-04-11<br />rolling_avg: 245<br />colour: 7-Day Rolling Average","date: 2022-04-12<br />rolling_avg: 239<br />colour: 7-Day Rolling Average","date: 2022-04-13<br />rolling_avg: 242<br />colour: 7-Day Rolling Average","date: 2022-04-14<br />rolling_avg: 241<br />colour: 7-Day Rolling Average","date: 2022-04-15<br />rolling_avg: 246<br />colour: 7-Day Rolling Average","date: 2022-04-16<br />rolling_avg: 245<br />colour: 7-Day Rolling Average","date: 2022-04-17<br />rolling_avg: 245<br />colour: 7-Day Rolling Average","date: 2022-04-18<br />rolling_avg: 246<br />colour: 7-Day Rolling Average","date: 2022-04-19<br />rolling_avg: 250<br />colour: 7-Day Rolling Average","date: 2022-04-20<br />rolling_avg: 243<br />colour: 7-Day Rolling Average","date: 2022-04-21<br />rolling_avg: 251<br />colour: 7-Day Rolling Average","date: 2022-04-22<br />rolling_avg: 251<br />colour: 7-Day Rolling Average","date: 2022-04-23<br />rolling_avg: 259<br />colour: 7-Day Rolling Average","date: 2022-04-24<br />rolling_avg: 260<br />colour: 7-Day Rolling Average","date: 2022-04-25<br />rolling_avg: 253<br />colour: 7-Day Rolling Average","date: 2022-04-26<br />rolling_avg: 263<br />colour: 7-Day Rolling Average","date: 2022-04-27<br />rolling_avg: 274<br />colour: 7-Day Rolling Average","date: 2022-04-28<br />rolling_avg: 273<br />colour: 7-Day Rolling Average","date: 2022-04-29<br />rolling_avg: 271<br />colour: 7-Day Rolling Average","date: 2022-04-30<br />rolling_avg: 265<br />colour: 7-Day Rolling Average","date: 2022-05-01<br />rolling_avg: 267<br />colour: 7-Day Rolling Average","date: 2022-05-02<br />rolling_avg: 273<br />colour: 7-Day Rolling Average","date: 2022-05-03<br />rolling_avg: 272<br />colour: 7-Day Rolling Average","date: 2022-05-04<br />rolling_avg: 267<br />colour: 7-Day Rolling Average","date: 2022-05-05<br />rolling_avg: 271<br />colour: 7-Day Rolling Average","date: 2022-05-06<br />rolling_avg: 280<br />colour: 7-Day Rolling Average","date: 2022-05-07<br />rolling_avg: 285<br />colour: 7-Day Rolling Average","date: 2022-05-08<br />rolling_avg: 290<br />colour: 7-Day Rolling Average","date: 2022-05-09<br />rolling_avg: 294<br />colour: 7-Day Rolling Average","date: 2022-05-10<br />rolling_avg: 295<br />colour: 7-Day Rolling Average","date: 2022-05-11<br />rolling_avg: 303<br />colour: 7-Day Rolling Average","date: 2022-05-12<br />rolling_avg: 297<br />colour: 7-Day Rolling Average","date: 2022-05-13<br />rolling_avg: 298<br />colour: 7-Day Rolling Average","date: 2022-05-14<br />rolling_avg: 308<br />colour: 7-Day Rolling Average","date: 2022-05-15<br />rolling_avg: 309<br />colour: 7-Day Rolling Average","date: 2022-05-16<br />rolling_avg: 302<br />colour: 7-Day Rolling Average","date: 2022-05-17<br />rolling_avg: 301<br />colour: 7-Day Rolling Average","date: 2022-05-18<br />rolling_avg: 294<br />colour: 7-Day Rolling Average","date: 2022-05-19<br />rolling_avg: 299<br />colour: 7-Day Rolling Average","date: 2022-05-20<br />rolling_avg: 295<br />colour: 7-Day Rolling Average","date: 2022-05-21<br />rolling_avg: 290<br />colour: 7-Day Rolling Average","date: 2022-05-22<br />rolling_avg: 280<br />colour: 7-Day Rolling Average","date: 2022-05-23<br />rolling_avg: 275<br />colour: 7-Day Rolling Average","date: 2022-05-24<br />rolling_avg: 276<br />colour: 7-Day Rolling Average","date: 2022-05-25<br />rolling_avg: 277<br />colour: 7-Day Rolling Average","date: 2022-05-26<br />rolling_avg: 273<br />colour: 7-Day Rolling Average","date: 2022-05-27<br />rolling_avg: 275<br />colour: 7-Day Rolling Average","date: 2022-05-28<br />rolling_avg: 272<br />colour: 7-Day Rolling Average","date: 2022-05-29<br />rolling_avg: 279<br />colour: 7-Day Rolling Average","date: 2022-05-30<br />rolling_avg: 279<br />colour: 7-Day Rolling Average","date: 2022-05-31<br />rolling_avg: 269<br />colour: 7-Day Rolling Average","date: 2022-06-01<br />rolling_avg: 261<br />colour: 7-Day Rolling Average","date: 2022-06-02<br />rolling_avg: 258<br />colour: 7-Day Rolling Average","date: 2022-06-03<br />rolling_avg: 256<br />colour: 7-Day Rolling Average","date: 2022-06-04<br />rolling_avg: 260<br />colour: 7-Day Rolling Average","date: 2022-06-05<br />rolling_avg: 263<br />colour: 7-Day Rolling Average","date: 2022-06-06<br />rolling_avg: 267<br />colour: 7-Day Rolling Average","date: 2022-06-07<br />rolling_avg: 281<br />colour: 7-Day Rolling Average","date: 2022-06-08<br />rolling_avg: 286<br />colour: 7-Day Rolling Average","date: 2022-06-09<br />rolling_avg: 293<br />colour: 7-Day Rolling Average","date: 2022-06-10<br />rolling_avg: 301<br />colour: 7-Day Rolling Average","date: 2022-06-11<br />rolling_avg: 306<br />colour: 7-Day Rolling Average","date: 2022-06-12<br />rolling_avg: 306<br />colour: 7-Day Rolling Average","date: 2022-06-13<br />rolling_avg: 315<br />colour: 7-Day Rolling Average","date: 2022-06-14<br />rolling_avg: 324<br />colour: 7-Day Rolling Average","date: 2022-06-15<br />rolling_avg: 323<br />colour: 7-Day Rolling Average","date: 2022-06-16<br />rolling_avg: 319<br />colour: 7-Day Rolling Average","date: 2022-06-17<br />rolling_avg: 323<br />colour: 7-Day Rolling Average","date: 2022-06-18<br />rolling_avg: 327<br />colour: 7-Day Rolling Average","date: 2022-06-19<br />rolling_avg: 335<br />colour: 7-Day Rolling Average","date: 2022-06-20<br />rolling_avg: 326<br />colour: 7-Day Rolling Average","date: 2022-06-21<br />rolling_avg: 316<br />colour: 7-Day Rolling Average","date: 2022-06-22<br />rolling_avg: 317<br />colour: 7-Day Rolling Average","date: 2022-06-23<br />rolling_avg: 325<br />colour: 7-Day Rolling Average","date: 2022-06-24<br />rolling_avg: 317<br />colour: 7-Day Rolling Average","date: 2022-06-25<br />rolling_avg: 305<br />colour: 7-Day Rolling Average","date: 2022-06-26<br />rolling_avg: 287<br />colour: 7-Day Rolling Average","date: 2022-06-27<br />rolling_avg: 285<br />colour: 7-Day Rolling Average","date: 2022-06-28<br />rolling_avg: 280<br />colour: 7-Day Rolling Average","date: 2022-06-29<br />rolling_avg: 280<br />colour: 7-Day Rolling Average","date: 2022-06-30<br />rolling_avg: 274<br />colour: 7-Day Rolling Average","date: 2022-07-01<br />rolling_avg: 272<br />colour: 7-Day Rolling Average","date: 2022-07-02<br />rolling_avg: 273<br />colour: 7-Day Rolling Average","date: 2022-07-03<br />rolling_avg: 274<br />colour: 7-Day Rolling Average","date: 2022-07-04<br />rolling_avg: 279<br />colour: 7-Day Rolling Average","date: 2022-07-05<br />rolling_avg: 289<br />colour: 7-Day Rolling Average","date: 2022-07-06<br />rolling_avg: 297<br />colour: 7-Day Rolling Average","date: 2022-07-07<br />rolling_avg: 314<br />colour: 7-Day Rolling Average","date: 2022-07-08<br />rolling_avg: 319<br />colour: 7-Day Rolling Average","date: 2022-07-09<br />rolling_avg: 317<br />colour: 7-Day Rolling Average","date: 2022-07-10<br />rolling_avg: 322<br />colour: 7-Day Rolling Average","date: 2022-07-11<br />rolling_avg: 327<br />colour: 7-Day Rolling Average","date: 2022-07-12<br />rolling_avg: 320<br />colour: 7-Day Rolling Average","date: 2022-07-13<br />rolling_avg: 314<br />colour: 7-Day Rolling Average","date: 2022-07-14<br />rolling_avg: 305<br />colour: 7-Day Rolling Average","date: 2022-07-15<br />rolling_avg: 302<br />colour: 7-Day Rolling Average","date: 2022-07-16<br />rolling_avg: 302<br />colour: 7-Day Rolling Average","date: 2022-07-17<br />rolling_avg: 295<br />colour: 7-Day Rolling Average","date: 2022-07-18<br />rolling_avg: 283<br />colour: 7-Day Rolling Average","date: 2022-07-19<br />rolling_avg: 271<br />colour: 7-Day Rolling Average","date: 2022-07-20<br />rolling_avg: 268<br />colour: 7-Day Rolling Average","date: 2022-07-21<br />rolling_avg: 262<br />colour: 7-Day Rolling Average","date: 2022-07-22<br />rolling_avg: 255<br />colour: 7-Day Rolling Average","date: 2022-07-23<br />rolling_avg: 252<br />colour: 7-Day Rolling Average","date: 2022-07-24<br />rolling_avg: 254<br />colour: 7-Day Rolling Average","date: 2022-07-25<br />rolling_avg: 250<br />colour: 7-Day Rolling Average","date: 2022-07-26<br />rolling_avg: 258<br />colour: 7-Day Rolling Average","date: 2022-07-27<br />rolling_avg: 255<br />colour: 7-Day Rolling Average","date: 2022-07-28<br />rolling_avg: 258<br />colour: 7-Day Rolling Average","date: 2022-07-29<br />rolling_avg: 259<br />colour: 7-Day Rolling Average","date: 2022-07-30<br />rolling_avg: 261<br />colour: 7-Day Rolling Average","date: 2022-07-31<br />rolling_avg: 261<br />colour: 7-Day Rolling Average","date: 2022-08-01<br />rolling_avg: 272<br />colour: 7-Day Rolling Average","date: 2022-08-02<br />rolling_avg: 273<br />colour: 7-Day Rolling Average","date: 2022-08-03<br />rolling_avg: 284<br />colour: 7-Day Rolling Average","date: 2022-08-04<br />rolling_avg: 284<br />colour: 7-Day Rolling Average","date: 2022-08-05<br />rolling_avg: 287<br />colour: 7-Day Rolling Average","date: 2022-08-06<br />rolling_avg: 295<br />colour: 7-Day Rolling Average","date: 2022-08-07<br />rolling_avg: 310<br />colour: 7-Day Rolling Average","date: 2022-08-08<br />rolling_avg: 313<br />colour: 7-Day Rolling Average","date: 2022-08-09<br />rolling_avg: 315<br />colour: 7-Day Rolling Average","date: 2022-08-10<br />rolling_avg: 317<br />colour: 7-Day Rolling Average","date: 2022-08-11<br />rolling_avg: 316<br />colour: 7-Day Rolling Average","date: 2022-08-12<br />rolling_avg: 313<br />colour: 7-Day Rolling Average","date: 2022-08-13<br />rolling_avg: 302<br />colour: 7-Day Rolling Average","date: 2022-08-14<br />rolling_avg: 286<br />colour: 7-Day Rolling Average","date: 2022-08-15<br />rolling_avg: 280<br />colour: 7-Day Rolling Average","date: 2022-08-16<br />rolling_avg: 278<br />colour: 7-Day Rolling Average","date: 2022-08-17<br />rolling_avg: 269<br />colour: 7-Day Rolling Average","date: 2022-08-18<br />rolling_avg: 269<br />colour: 7-Day Rolling Average","date: 2022-08-19<br />rolling_avg: 267<br />colour: 7-Day Rolling Average","date: 2022-08-20<br />rolling_avg: 269<br />colour: 7-Day Rolling Average","date: 2022-08-21<br />rolling_avg: 269<br />colour: 7-Day Rolling Average","date: 2022-08-22<br />rolling_avg: 267<br />colour: 7-Day Rolling Average","date: 2022-08-23<br />rolling_avg: 265<br />colour: 7-Day Rolling Average","date: 2022-08-24<br />rolling_avg: 267<br />colour: 7-Day Rolling Average","date: 2022-08-25<br />rolling_avg: 262<br />colour: 7-Day Rolling Average","date: 2022-08-26<br />rolling_avg: 255<br />colour: 7-Day Rolling Average","date: 2022-08-27<br />rolling_avg: 256<br />colour: 7-Day Rolling Average","date: 2022-08-28<br />rolling_avg: 258<br />colour: 7-Day Rolling Average","date: 2022-08-29<br />rolling_avg: 257<br />colour: 7-Day Rolling Average","date: 2022-08-30<br />rolling_avg: 255<br />colour: 7-Day Rolling Average","date: 2022-08-31<br />rolling_avg: 253<br />colour: 7-Day Rolling Average","date: 2022-09-01<br />rolling_avg: 255<br />colour: 7-Day Rolling Average","date: 2022-09-02<br />rolling_avg: 268<br />colour: 7-Day Rolling Average","date: 2022-09-03<br />rolling_avg: 271<br />colour: 7-Day Rolling Average","date: 2022-09-04<br />rolling_avg: 274<br />colour: 7-Day Rolling Average","date: 2022-09-05<br />rolling_avg: 280<br />colour: 7-Day Rolling Average","date: 2022-09-06<br />rolling_avg: 277<br />colour: 7-Day Rolling Average","date: 2022-09-07<br />rolling_avg: 272<br />colour: 7-Day Rolling Average","date: 2022-09-08<br />rolling_avg: 275<br />colour: 7-Day Rolling Average","date: 2022-09-09<br />rolling_avg: 271<br />colour: 7-Day Rolling Average","date: 2022-09-10<br />rolling_avg: 274<br />colour: 7-Day Rolling Average","date: 2022-09-11<br />rolling_avg: 272<br />colour: 7-Day Rolling Average","date: 2022-09-12<br />rolling_avg: 268<br />colour: 7-Day Rolling Average","date: 2022-09-13<br />rolling_avg: 281<br />colour: 7-Day Rolling Average","date: 2022-09-14<br />rolling_avg: 290<br />colour: 7-Day Rolling Average","date: 2022-09-15<br />rolling_avg: 291<br />colour: 7-Day Rolling Average","date: 2022-09-16<br />rolling_avg: 274<br />colour: 7-Day Rolling Average","date: 2022-09-17<br />rolling_avg: 274<br />colour: 7-Day Rolling Average","date: 2022-09-18<br />rolling_avg: 272<br />colour: 7-Day Rolling Average","date: 2022-09-19<br />rolling_avg: 275<br />colour: 7-Day Rolling Average","date: 2022-09-20<br />rolling_avg: 267<br />colour: 7-Day Rolling Average","date: 2022-09-21<br />rolling_avg: 266<br />colour: 7-Day Rolling Average","date: 2022-09-22<br />rolling_avg: 264<br />colour: 7-Day Rolling Average","date: 2022-09-23<br />rolling_avg: 284<br />colour: 7-Day Rolling Average","date: 2022-09-24<br />rolling_avg: 284<br />colour: 7-Day Rolling Average","date: 2022-09-25<br />rolling_avg: 291<br />colour: 7-Day Rolling Average","date: 2022-09-26<br />rolling_avg: 293<br />colour: 7-Day Rolling Average","date: 2022-09-27<br />rolling_avg: 294<br />colour: 7-Day Rolling Average","date: 2022-09-28<br />rolling_avg: 304<br />colour: 7-Day Rolling Average","date: 2022-09-29<br />rolling_avg: 297<br />colour: 7-Day Rolling Average","date: 2022-09-30<br />rolling_avg: 293<br />colour: 7-Day Rolling Average","date: 2022-10-01<br />rolling_avg: 294<br />colour: 7-Day Rolling Average","date: 2022-10-02<br />rolling_avg: 293<br />colour: 7-Day Rolling Average","date: 2022-10-03<br />rolling_avg: 296<br />colour: 7-Day Rolling Average","date: 2022-10-04<br />rolling_avg: 299<br />colour: 7-Day Rolling Average","date: 2022-10-05<br />rolling_avg: 297<br />colour: 7-Day Rolling Average","date: 2022-10-06<br />rolling_avg: 299<br />colour: 7-Day Rolling Average","date: 2022-10-07<br />rolling_avg: 313<br />colour: 7-Day Rolling Average","date: 2022-10-08<br />rolling_avg: 310<br />colour: 7-Day Rolling Average","date: 2022-10-09<br />rolling_avg: 299<br />colour: 7-Day Rolling Average","date: 2022-10-10<br />rolling_avg: 297<br />colour: 7-Day Rolling Average","date: 2022-10-11<br />rolling_avg: 295<br />colour: 7-Day Rolling Average","date: 2022-10-12<br />rolling_avg: 289<br />colour: 7-Day Rolling Average","date: 2022-10-13<br />rolling_avg: 292<br />colour: 7-Day Rolling Average","date: 2022-10-14<br />rolling_avg: 284<br />colour: 7-Day Rolling Average","date: 2022-10-15<br />rolling_avg: 288<br />colour: 7-Day Rolling Average","date: 2022-10-16<br />rolling_avg: 291<br />colour: 7-Day Rolling Average","date: 2022-10-17<br />rolling_avg: 292<br />colour: 7-Day Rolling Average","date: 2022-10-18<br />rolling_avg: 293<br />colour: 7-Day Rolling Average","date: 2022-10-19<br />rolling_avg: 290<br />colour: 7-Day Rolling Average","date: 2022-10-20<br />rolling_avg: 287<br />colour: 7-Day Rolling Average","date: 2022-10-21<br />rolling_avg: 280<br />colour: 7-Day Rolling Average","date: 2022-10-22<br />rolling_avg: 272<br />colour: 7-Day Rolling Average","date: 2022-10-23<br />rolling_avg: 279<br />colour: 7-Day Rolling Average","date: 2022-10-24<br />rolling_avg: 266<br />colour: 7-Day Rolling Average","date: 2022-10-25<br />rolling_avg: 266<br />colour: 7-Day Rolling Average","date: 2022-10-26<br />rolling_avg: 266<br />colour: 7-Day Rolling Average","date: 2022-10-27<br />rolling_avg: 267<br />colour: 7-Day Rolling Average","date: 2022-10-28<br />rolling_avg: 277<br />colour: 7-Day Rolling Average","date: 2022-10-29<br />rolling_avg: 285<br />colour: 7-Day Rolling Average","date: 2022-10-30<br />rolling_avg: 286<br />colour: 7-Day Rolling Average","date: 2022-10-31<br />rolling_avg: 301<br />colour: 7-Day Rolling Average","date: 2022-11-01<br />rolling_avg: 315<br />colour: 7-Day Rolling Average","date: 2022-11-02<br />rolling_avg: 314<br />colour: 7-Day Rolling Average","date: 2022-11-03<br />rolling_avg: 309<br />colour: 7-Day Rolling Average","date: 2022-11-04<br />rolling_avg: 306<br />colour: 7-Day Rolling Average","date: 2022-11-05<br />rolling_avg: 307<br />colour: 7-Day Rolling Average","date: 2022-11-06<br />rolling_avg: 313<br />colour: 7-Day Rolling Average","date: 2022-11-07<br />rolling_avg: 305<br />colour: 7-Day Rolling Average","date: 2022-11-08<br />rolling_avg: 285<br />colour: 7-Day Rolling Average","date: 2022-11-09<br />rolling_avg: 287<br />colour: 7-Day Rolling Average","date: 2022-11-10<br />rolling_avg: 294<br />colour: 7-Day Rolling Average","date: 2022-11-11<br />rolling_avg: 292<br />colour: 7-Day Rolling Average","date: 2022-11-12<br />rolling_avg: 294<br />colour: 7-Day Rolling Average","date: 2022-11-13<br />rolling_avg: 294<br />colour: 7-Day Rolling Average","date: 2022-11-14<br />rolling_avg: 303<br />colour: 7-Day Rolling Average","date: 2022-11-15<br />rolling_avg: 311<br />colour: 7-Day Rolling Average","date: 2022-11-16<br />rolling_avg: 310<br />colour: 7-Day Rolling Average","date: 2022-11-17<br />rolling_avg: 304<br />colour: 7-Day Rolling Average","date: 2022-11-18<br />rolling_avg: 312<br />colour: 7-Day Rolling Average","date: 2022-11-19<br />rolling_avg: 308<br />colour: 7-Day Rolling Average","date: 2022-11-20<br />rolling_avg: 305<br />colour: 7-Day Rolling Average","date: 2022-11-21<br />rolling_avg: 298<br />colour: 7-Day Rolling Average","date: 2022-11-22<br />rolling_avg: 302<br />colour: 7-Day Rolling Average","date: 2022-11-23<br />rolling_avg: 300<br />colour: 7-Day Rolling Average","date: 2022-11-24<br />rolling_avg: 304<br />colour: 7-Day Rolling Average","date: 2022-11-25<br />rolling_avg: 306<br />colour: 7-Day Rolling Average","date: 2022-11-26<br />rolling_avg: 302<br />colour: 7-Day Rolling Average","date: 2022-11-27<br />rolling_avg: 294<br />colour: 7-Day Rolling Average","date: 2022-11-28<br />rolling_avg: 293<br />colour: 7-Day Rolling Average","date: 2022-11-29<br />rolling_avg: 285<br />colour: 7-Day Rolling Average","date: 2022-11-30<br />rolling_avg: 285<br />colour: 7-Day Rolling Average","date: 2022-12-01<br />rolling_avg: 276<br />colour: 7-Day Rolling Average","date: 2022-12-02<br />rolling_avg: 268<br />colour: 7-Day Rolling Average","date: 2022-12-03<br />rolling_avg: 276<br />colour: 7-Day Rolling Average","date: 2022-12-04<br />rolling_avg: 283<br />colour: 7-Day Rolling Average","date: 2022-12-05<br />rolling_avg: 294<br />colour: 7-Day Rolling Average","date: 2022-12-06<br />rolling_avg: 300<br />colour: 7-Day Rolling Average","date: 2022-12-07<br />rolling_avg: 305<br />colour: 7-Day Rolling Average","date: 2022-12-08<br />rolling_avg: 314<br />colour: 7-Day Rolling Average","date: 2022-12-09<br />rolling_avg: 301<br />colour: 7-Day Rolling Average","date: 2022-12-10<br />rolling_avg: 284<br />colour: 7-Day Rolling Average","date: 2022-12-11<br />rolling_avg: 280<br />colour: 7-Day Rolling Average","date: 2022-12-12<br />rolling_avg: 277<br />colour: 7-Day Rolling Average","date: 2022-12-13<br />rolling_avg: 272<br />colour: 7-Day Rolling Average","date: 2022-12-14<br />rolling_avg: 264<br />colour: 7-Day Rolling Average","date: 2022-12-15<br />rolling_avg: 262<br />colour: 7-Day Rolling Average","date: 2022-12-16<br />rolling_avg: 268<br />colour: 7-Day Rolling Average","date: 2022-12-17<br />rolling_avg: 278<br />colour: 7-Day Rolling Average","date: 2022-12-18<br />rolling_avg: 274<br />colour: 7-Day Rolling Average","date: 2022-12-19<br />rolling_avg: 260<br />colour: 7-Day Rolling Average","date: 2022-12-20<br />rolling_avg: 251<br />colour: 7-Day Rolling Average","date: 2022-12-21<br />rolling_avg: 246<br />colour: 7-Day Rolling Average","date: 2022-12-22<br />rolling_avg: 235<br />colour: 7-Day Rolling Average","date: 2022-12-23<br />rolling_avg: 225<br />colour: 7-Day Rolling Average","date: 2022-12-24<br />rolling_avg: 210<br />colour: 7-Day Rolling Average","date: 2022-12-25<br />rolling_avg: 196<br />colour: 7-Day Rolling Average","date: 2022-12-26<br />rolling_avg: 184<br />colour: 7-Day Rolling Average","date: 2022-12-27<br />rolling_avg: 171<br />colour: 7-Day Rolling Average","date: 2022-12-28<br />rolling_avg: 166<br />colour: 7-Day Rolling Average","date: 2022-12-29<br />rolling_avg:  NA<br />colour: 7-Day Rolling Average","date: 2022-12-30<br />rolling_avg:  NA<br />colour: 7-Day Rolling Average","date: 2022-12-31<br />rolling_avg:  NA<br />colour: 7-Day Rolling Average"],"type":"scatter","mode":"lines","line":{"width":4.5354330708661417,"color":"rgba(254,74,73,1)","dash":"solid"},"hoveron":"points","name":"7-Day Rolling Average","legendgroup":"7-Day Rolling Average","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826498,"l":43.105022831050235},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Daily Counts and 7-Day Rolling Average of Accidents","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[18974.799999999999,19375.200000000001],"tickmode":"array","ticktext":["Jan 2022","Apr 2022","Jul 2022","Oct 2022","Jan 2023"],"tickvals":[18993,19083,19174,19266,19358],"categoryorder":"array","categoryarray":["Jan 2022","Apr 2022","Jul 2022","Oct 2022","Jan 2023"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Date","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[116.90000000000001,449.10000000000002],"tickmode":"array","ticktext":["200","300","400"],"tickvals":[200,300,400],"categoryorder":"array","categoryarray":["200","300","400"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Number of Accidents","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Legend","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative","autosize":false,"width":800,"height":600},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"cdf28b9884e":{"x":{},"y":{},"colour":{},"type":"scatter"},"cdf2ca3cdc5":{"x":{},"y":{},"colour":{}}},"cur_data":"cdf28b9884e","visdat":{"cdf28b9884e":["function (y) ","x"],"cdf2ca3cdc5":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Here we can more easily see peaks (high or low) within a day, notably on xxx February, xxx June and xxx November (with a peak of over 400 accidents per day). What’s more, only 2 days of the year saw fewer than 250 accidents (xxx September and xxx December).</p>
<section id="hour-of-day" class="level5">
<h5 class="anchored" data-anchor-id="hour-of-day">Hour of Day</h5>
<p>Finally, we have taken into account the hours of the day, so as to be able to identify any times of the day that generate more accidents than others. We observe an increase in the number of accidents between 7am and 8am. There is also a significant increase in the early afternoon between 3pm and 5pm.</p>
</section>
</section>
<section id="graph-of-accidents-by-h.o.d-per-severity-waverage" class="level3">
<h3 class="anchored" data-anchor-id="graph-of-accidents-by-h.o.d-per-severity-waverage">Graph of Accidents by H.O.D per Severity (w/average)</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>average_accidents_hour <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">table</span>(q2_clean<span class="sc">$</span>hour))</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q2_clean) <span class="sc">+</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">aes</span>(<span class="at">x =</span> hour, <span class="at">fill =</span> accident_severity_chr) <span class="sc">+</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> average_accidents_hour, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"#FE4A49"</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">values =</span> <span class="fu">c</span>(<span class="at">Fatal =</span> <span class="st">"#FFEB00"</span>,</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">Serious =</span> <span class="st">"#BBBBBB"</span>,</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">Slight =</span> <span class="st">"#4C4E4D"</span>),</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Severity of Accident"</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Hour of the day"</span>,</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Number of Accidents"</span>,</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Accidents by HOD per Severity"</span>,</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"Red dashed line represents the average:"</span>, <span class="fu">round</span>(average_accidents_hour, <span class="dv">2</span>))</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid quarto-figure-center" style="width:100.0%"></p>
</div>
</div>
<p>We can also see that there appear to be differences in accident severity depending on the time of day. To help us identify this, we have isolated fatal and serious accidents, keeping our time-of-day scale.</p>
</section>
<section id="graph-of-proportion-of-accidents-by-d.o.y-per-severity-wo-slight-es" class="level3">
<h3 class="anchored" data-anchor-id="graph-of-proportion-of-accidents-by-d.o.y-per-severity-wo-slight-es">Graph of Proportion of Accidents by D.O.Y per Severity (w/o slight) (+ %es)</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your existing data preparation code</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>accidents_by_hour_severity <span class="ot">&lt;-</span> q2_clean <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hour, accident_severity_chr) <span class="sc">%&gt;%</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>total_accidents_by_hour <span class="ot">&lt;-</span> accidents_by_hour_severity <span class="sc">%&gt;%</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hour) <span class="sc">%&gt;%</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_count =</span> <span class="fu">sum</span>(count))</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>accidents_by_hour_severity <span class="ot">&lt;-</span> accidents_by_hour_severity <span class="sc">%&gt;%</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(total_accidents_by_hour, <span class="at">by =</span> <span class="st">"hour"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> count <span class="sc">/</span> total_count)</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out the "Slight" category and recalculate the proportions</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>accidents_by_hour_severity_filtered <span class="ot">&lt;-</span> accidents_by_hour_severity <span class="sc">%&gt;%</span></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(accident_severity_chr <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Serious"</span>, <span class="st">"Fatal"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hour) <span class="sc">%&gt;%</span></span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> count <span class="sc">/</span> <span class="fu">sum</span>(count))</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting the proportions with data labels</span></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(accidents_by_hour_severity_filtered, <span class="fu">aes</span>(<span class="at">x =</span> hour, <span class="at">y =</span> proportion, <span class="at">fill =</span> accident_severity_chr)) <span class="sc">+</span></span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">percent</span>(proportion, <span class="at">accuracy =</span> <span class="dv">1</span>)), </span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_fill</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>), </span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Fatal"</span> <span class="ot">=</span> <span class="st">"#FFEB00"</span>, <span class="st">"Serious"</span> <span class="ot">=</span> <span class="st">"#BBBBBB"</span>),</span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Severity of Accident"</span></span>
<span id="cb40-32"><a href="#cb40-32" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb40-33"><a href="#cb40-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb40-34"><a href="#cb40-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Hour of Day"</span>,</span>
<span id="cb40-35"><a href="#cb40-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Proportion of Accidents"</span>,</span>
<span id="cb40-36"><a href="#cb40-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Proportion of Accidents by Hour per Severity (Excluding 'Slight')"</span></span>
<span id="cb40-37"><a href="#cb40-37" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb40-38"><a href="#cb40-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb40-39"><a href="#cb40-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid quarto-figure-center" style="width:100.0%"></p>
</div>
</div>
<p>Here we can see that at night (between midnight and 5 a.m. inclusive) there is a higher proportion of fatal accidents.</p>
<p>We therefore decided to group the hours into classes to try to classify more easily the dangerous hours and the hours that are prone to the greatest number of accidents. To enable us to compare classes, we decided to take classes of equal size in 6-hour blocks.</p>
</section>
<section id="table-of-accidents-by-time-range" class="level3">
<h3 class="anchored" data-anchor-id="table-of-accidents-by-time-range">Table of Accidents by Time Range</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize the number of accidents by time range and severity</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>accidents_by_time_severity <span class="ot">&lt;-</span> q2_clean <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(time_ranges, accident_severity_chr) <span class="sc">%&gt;%</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Number_of_Accidents =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Pivot to wide format</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>accidents_wide <span class="ot">&lt;-</span> accidents_by_time_severity <span class="sc">%&gt;%</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> accident_severity_chr, <span class="at">values_from =</span> Number_of_Accidents, <span class="at">values_fill =</span> <span class="fu">list</span>(<span class="at">Number_of_Accidents =</span> <span class="dv">0</span>))</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate totals for each time range</span></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>accidents_wide <span class="ot">&lt;-</span> accidents_wide <span class="sc">%&gt;%</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Total =</span> <span class="st">`</span><span class="at">Fatal</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">Serious</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">Slight</span><span class="st">`</span>)</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a table using knitr</span></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(accidents_wide, </span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>             <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Time Range"</span>, <span class="st">"Fatal"</span>, <span class="st">"Serious"</span>, <span class="st">"Slight"</span>, <span class="st">"Total"</span>), </span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>             <span class="at">caption =</span> <span class="st">"Accidents by Time Range and Severity with Totals"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Accidents by Time Range and Severity with Totals</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Time Range</th>
<th style="text-align: right;">Fatal</th>
<th style="text-align: right;">Serious</th>
<th style="text-align: right;">Slight</th>
<th style="text-align: right;">Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">0-6 AM</td>
<td style="text-align: right;">260</td>
<td style="text-align: right;">1580</td>
<td style="text-align: right;">4144</td>
<td style="text-align: right;">5984</td>
</tr>
<tr class="even">
<td style="text-align: left;">6-12 AM</td>
<td style="text-align: right;">350</td>
<td style="text-align: right;">5684</td>
<td style="text-align: right;">20530</td>
<td style="text-align: right;">26564</td>
</tr>
<tr class="odd">
<td style="text-align: left;">12-6 PM</td>
<td style="text-align: right;">542</td>
<td style="text-align: right;">9679</td>
<td style="text-align: right;">33116</td>
<td style="text-align: right;">43337</td>
</tr>
<tr class="even">
<td style="text-align: left;">6-12 PM</td>
<td style="text-align: right;">443</td>
<td style="text-align: right;">5855</td>
<td style="text-align: right;">18799</td>
<td style="text-align: right;">25097</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="graph-of-accidents-by-time-range-per-severity-wo-slight-es" class="level3">
<h3 class="anchored" data-anchor-id="graph-of-accidents-by-time-range-per-severity-wo-slight-es">Graph of Accidents by Time Range per Severity (w/o slight) (+ %es)</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prepare the dataset</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>accidents_by_time_severity <span class="ot">&lt;-</span> q2_clean <span class="sc">%&gt;%</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(accident_severity_chr <span class="sc">!=</span> <span class="st">"Slight"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(time_ranges, accident_severity_chr) <span class="sc">%&gt;%</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>)</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Recalculate proportions within each time range group for "Serious" and "Fatal"</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>accidents_by_time_severity <span class="ot">&lt;-</span> accidents_by_time_severity <span class="sc">%&gt;%</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(time_ranges) <span class="sc">%&gt;%</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> count <span class="sc">/</span> <span class="fu">sum</span>(count)) <span class="sc">%&gt;%</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the proportions with data labels</span></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(accidents_by_time_severity, <span class="fu">aes</span>(<span class="at">x =</span> time_ranges, <span class="at">y =</span> proportion, <span class="at">fill =</span> accident_severity_chr)) <span class="sc">+</span></span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"fill"</span>) <span class="sc">+</span></span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">percent</span>(proportion, <span class="at">accuracy =</span> <span class="dv">1</span>)), </span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_fill</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>), </span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Fatal"</span> <span class="ot">=</span> <span class="st">"#FFEB00"</span>, <span class="st">"Serious"</span> <span class="ot">=</span> <span class="st">"#BBBBBB"</span>),</span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">"Severity of Accident"</span></span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Time Range"</span>,</span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Proportion of Accidents"</span>,</span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Proportion of Accidents by Time Range per Severity (Excluding 'Slight')"</span></span>
<span id="cb42-28"><a href="#cb42-28" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb42-29"><a href="#cb42-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb42-30"><a href="#cb42-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid quarto-figure-center" style="width:100.0%"></p>
</div>
</div>
<p>We can see that many accidents take place between midday and 6 p.m. (over 40,000 accidents during these hours as the average is equal to 25’245). What’s more, very few accidents (less than 900) take place between midnight and 6am)</p>
<p>To complete the picture, we felt it was important to relate these hours to the days of the week, to see if, by pooling these two types of information, we could identify differences depending on the day.</p>
</section>
<section id="heatmap-of-accidents-by-hour-and-day" class="level3">
<h3 class="anchored" data-anchor-id="heatmap-of-accidents-by-hour-and-day">Heatmap of Accidents by Hour and Day</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>agg_data <span class="ot">&lt;-</span> q2_clean <span class="sc">%&gt;%</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hour, day_name) <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">accidents_count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(agg_data, <span class="fu">aes</span>(<span class="at">x =</span> hour, <span class="at">y =</span> day_name, <span class="at">fill =</span> accidents_count)) <span class="sc">+</span> </span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"#F1F3F2"</span>, <span class="at">high =</span> <span class="st">"#FE4A49"</span>) <span class="sc">+</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Hour"</span>,</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Day of the Week"</span>,</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Number of Accidents"</span>,</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Heatmap of Accidents by Hour and Day"</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"rect"</span>, <span class="at">xmin =</span> <span class="dv">5</span>, <span class="at">xmax =</span> <span class="dv">19</span>, <span class="at">ymin =</span> <span class="st">"Monday"</span>, <span class="at">ymax =</span> <span class="st">"Sunday"</span>, </span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">size =</span> <span class="dv">1</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>)  <span class="co"># Add a highlighted box</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid quarto-figure-center" style="width:100.0%"></p>
</div>
</div>
<p>Thanks to this heatmap, we’re able to better dissociate the time of day and the day of the week. Indeed, it confirms our previous observations, but adds, for example, that even if accidents are more frequent between 7 and 8 a.m., this applies mainly to days from Tuesday to Saturday (excluding Sundays and Mondays).</p>
</section>
</section>
<section id="research-question-3a" class="level2">
<h2 class="anchored" data-anchor-id="research-question-3a">Research Question 3a:</h2>
<section id="graph-of-casualty-severity-by-gender" class="level3">
<h3 class="anchored" data-anchor-id="graph-of-casualty-severity-by-gender">Graph of Casualty Severity by Gender</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q3a_clean, <span class="fu">aes</span>(<span class="at">x =</span> casualty_severity_chr, <span class="at">fill =</span> <span class="fu">factor</span>(sex_of_casualty))) <span class="sc">+</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"#ffeb00"</span>, <span class="st">"#4c4e4d"</span>), <span class="at">name =</span> <span class="st">"Gender"</span>, <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>)) <span class="sc">+</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Casualty Severity by Gender"</span>, <span class="at">x =</span> <span class="st">"Severity"</span>, <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#f1f3f2"</span>, <span class="at">colour =</span> <span class="st">"#f1f3f2"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid quarto-figure-center" style="width:100.0%"></p>
</div>
</div>
</section>
<section id="graph-of-proportion-of-casualty-severity-by-gender-issue-with-proportions-to-be-fixed" class="level3">
<h3 class="anchored" data-anchor-id="graph-of-proportion-of-casualty-severity-by-gender-issue-with-proportions-to-be-fixed">Graph of Proportion of Casualty Severity by Gender (issue with proportions to be fixed)</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming gender_severity_proportions is already created as per your provided code</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Now modify the ggplot code for the stacked bar chart</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>gender_severity_proportions <span class="ot">&lt;-</span> q3a_clean <span class="sc">%&gt;%</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex_of_casualty, casualty_severity_chr) <span class="sc">%&gt;%</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex_of_casualty) <span class="sc">%&gt;%</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> count <span class="sc">/</span> <span class="fu">sum</span>(count)) <span class="sc">%&gt;%</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gender_severity_proportions, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(sex_of_casualty), <span class="at">y =</span> proportion, <span class="at">fill =</span> casualty_severity_chr)) <span class="sc">+</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">percent</span>(proportion, <span class="at">accuracy =</span> <span class="dv">1</span>)), </span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> <span class="fu">position_stack</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>), </span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">3</span></span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Light"</span> <span class="ot">=</span> <span class="st">"#FFEB00"</span>, <span class="st">"Serious"</span> <span class="ot">=</span> <span class="st">"#BBBBBB"</span>, <span class="st">"Fatal"</span> <span class="ot">=</span> <span class="st">"#4C4E4D"</span>), <span class="at">name =</span> <span class="st">"Severity"</span>) <span class="sc">+</span></span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Proportion of Casualty Severity by Gender"</span>, <span class="at">x =</span> <span class="st">"Gender"</span>, <span class="at">y =</span> <span class="st">"Proportion"</span>) <span class="sc">+</span></span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid quarto-figure-center" style="width:100.0%"></p>
</div>
</div>
</section>
<section id="graph-of-age-distribution-by-casualty-severity-stacked-density-report" class="level3">
<h3 class="anchored" data-anchor-id="graph-of-age-distribution-by-casualty-severity-stacked-density-report">Graph of Age Distribution by Casualty Severity (Stacked Density Report)</h3>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(q3a_clean, <span class="fu">aes</span>(<span class="at">x =</span> age_of_casualty, <span class="at">fill =</span> casualty_severity_chr)) <span class="sc">+</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Fatal"</span> <span class="ot">=</span> <span class="st">"#FE4A49"</span>, <span class="st">"Serious"</span> <span class="ot">=</span> <span class="st">"#bbbbbb"</span>, <span class="st">"Light"</span> <span class="ot">=</span> <span class="st">"#4c4e4d"</span>)) <span class="sc">+</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Age Distribution by Casualty Severity (Stacked Density)"</span>, </span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Age"</span>, <span class="at">y =</span> <span class="st">"Density"</span>) <span class="sc">+</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="report_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid quarto-figure-center" style="width:100.0%"></p>
</div>
</div>
</section>
</section>
<section id="research-question-3b" class="level2">
<h2 class="anchored" data-anchor-id="research-question-3b">Research Question 3b:</h2>
<section id="graph-of-proportion-of-accident-severity-with-electric-vs-diesel-cars" class="level3">
<h3 class="anchored" data-anchor-id="graph-of-proportion-of-accident-severity-with-electric-vs-diesel-cars">Graph of Proportion of Accident Severity with electric vs diesel cars</h3>
</section>
<section id="table-of-cc-and-severity" class="level3">
<h3 class="anchored" data-anchor-id="table-of-cc-and-severity">Table of CC and severity</h3>
</section>
</section>
<section id="research-question-4" class="level2">
<h2 class="anchored" data-anchor-id="research-question-4">Research Question 4:</h2>
</section>
</section>
<section id="analysis" class="level1">
<h1>Analysis</h1>
<ul>
<li>Answers to the research questions</li>
<li>Different methods considered</li>
<li>Competing approaches</li>
<li>Justifications</li>
</ul>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<ul>
<li>Take home message</li>
<li>Limitations</li>
<li>Future work?</li>
</ul>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        typesetMath(container);
        return container.innerHTML
      } else {
        typesetMath(note);
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      typesetMath(note);
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>